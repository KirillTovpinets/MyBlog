<?php  return array (
  'resourceClass' => 'modDocument',
  'resource' => 
  array (
    'id' => 55,
    'type' => 'document',
    'contentType' => 'text/html',
    'pagetitle' => 'BisonRace 03.07.2016',
    'longtitle' => '',
    'description' => '',
    'alias' => 'bisonrace',
    'link_attributes' => '',
    'published' => 1,
    'pub_date' => 0,
    'unpub_date' => 0,
    'parent' => 8,
    'isfolder' => 0,
    'introtext' => 'Летний bison race! Море эмоций и незабываемых впечатлений. Пешеходы - вы лучшие!',
    'content' => '<div class="blog-post-fullwidth-featured js-parallax" data-parallax="scroll" data-image-src="assets/templates/images/running/5bjrGELo17s.jpg">
        <div class="container-fluid">
          <div class="post-single-title"> 
          [[!tagLister? &parents=`[[*id]]` &tv=`tags` &tpl=`single-tag` &target=`38`]]
            <h1>[[*pagetitle]]</h1>
            <div class="blog-single-meta">
              <p><a href="#" class="single-comments"><span class="icon-comments-2"></span></a><a href="#" class="single-shares"><span class="icon-eye"></span>[[!HitsPage? &saveTv=`true`]]</a> </p>
            </div>
          </div>
        </div>
      </div>
      <!-- BLOG CONTENT START -->
      <section class="section clearfix">
        <div class="container-fluid">
          <div class="col-lg-9 col-md-9 col-sm-9 col-xs-12">
            <div id="post-content" class="modern-layout">
              <p>Я помню тот день, когда один парень (его зовут Дима), с которым мы бегаем вместе на тренировках #followminsk,
              узнав о моих увлечениях в паркуре, решил предложить мне поучаствовать в экстремальном забеге с препятствиями. Он
              знал, что я соглашусь, я думаю. Так и произошло: я согласился не раздумывая. Название команды у нас, скажу честно,
              было не сильно энергичным и громким: пешеходы. Но это
              вовсе не говорило о том, что мы пройдём трассу пешком. Это лишь говорило о том, что мы пришли поучаствовать, а не
              победить. <br>
              К бизону мы почти не готовились. Да, ходили на пробежки, но физическую форму лично я не подготавливал к бизону. А зря,
              очень зря! И вдруг у меня случилась неприятность: буквально за 2 недели до старта на самостоятельной пробежке я получил растяжение 
              на голеностопе. Как потом выяснилось, это из-за плохой обуви, так как в ней подошва была очень тонкая и стопа просто не
              выдержала нагрузки от бега. Я очень расстроился и надеялся, что растяжение к началу бизона пройдёт. Перестал посещать 
              тренировки, начал мазать мазями, делать компрессы и т. д. Делал всё, что можно было, чтобы вылечиться, ведь так не хотелось 
              подводить всю команду! За день до забега у нас была пробежка с #Followminsk и я решил прийти, проверить, насколько я способен
              бежать. Оказалось, что боль в голеностопе так и не прошла. Во время пробежки чувствовалась острая боль. Но ничего не поделаешь.
              Команду подвести я не мог! <br>И вот день старта! Я перебинтовал ногу эластичным бинтом перед поездкой на место проведения
              забега (горнолыжный комплекс Логойск). Нога почти не беспокоила, что меня очень радовало, и я думал, что всё пройдёт 
              нормально. Мы приехали на место, размялись, зарегистрировались, и вот, объявляют старт. Мы не стали геройствовать и заняли стартовое
              место в конце всей коллоны участников. 10 стартовых <a href="assets/templates/images/running/burpi1.jpg">бурпи</a> и старт! Мы стартанули довольно хорошо, старались держаться вместе и ждали
              друг друга, если кто-либо из нас отстаёт. Боль в ноге у меня была, но я терпел, и старался не подавать вида, что меня
              что-то беспокоит. По ходу трассы мы все препятствия преодолевали вместе. Помогали друг другу, если у кого-то что-то не получалось.
              На некоторых препятствиях были особые правила, где в случае, если никто из команды не может пройти препятствие, то один человек
              из команды должен был сделать 30 штрафных бурпи, и только потом мог помогать своим товарищам. Буквально на всех таких препятствиях
              бурпи делал Игорь (на фото он рядом со мной стоит)! На таких препятствиях мы никогда не останавливась для того, чтобы решить, кто из нас будет делать бурпи. 
              Игорь сам добровольно шёл их делать. До сих пор поражаюсь его стойкости и выносливости. И, чтобы вы представляли, Игорю не 20 и не 30 лет.
              Он гораздо старше нас и, тем не менее, делал за нас эти бурпи! Я знал, что я не смогу сделать эти бурпи из-за травмы, потому что с
              прохождением трассы моя нога стала меня всё больше и больше беспокоить. Да и сам Игорь с Димой запретили мне их делать. Мне было стыдно,
              стыдно от того, что не мог ничем помочь своим друзьям по команде. Но в то же время я ими восхищался! <br>
              С каждым пройденным препятствием боль в ногие становилась всё чувствительней и чувствительней. Бежать в полную силу я уже не мог, приходилось
              на ровных местах переходить на шаг, хотя другие этот участок пробегали. Но насколько же я благодарен всем "пешеходам" за то, 
              что не бросали меня! Да, где-то я сильно отставал по дороге, но видя это, вся команда замедлялась ради того, чтобы подождать меня.
              И меня это ободряло! Под конец дистанции прыгать я уже совершенно не мог, не говоря уже о том, чтобы просто бежать, однако все оставшиеся
              препятствия я старался проходить сам, не напрягая своих друзей по команде. До конца всей трассы я шёл прихрамывая на больную ногу, но моя
              команда не бросала меня. Более того, Дима предложил до финиша меня донести на плечах. И пусть я упирался и говорил, что я
              дойду сам, Дима наперекор мне взял меня под плечо и шёл рядом со мной, чтобы помочь мне дойти до финиша. Оставалось ещё несколько препятствий.
              Я уговорил Диму оставить меня и проходить препятствие, так как оно в принципе было не сложным. Пройдя это препятствие я попробовал
              бежать в медленном темпе, и в общем-то у меня это получалось, поэтому я уже не стал обращаться за помощью. У самого финиша, пройдя последнее
              испытание, Игорь взял меня на плечи и мы вместе пересекли финишную черту, чтобы по результатам финиша я не был последним.</p>
              <p>Просто не 
              описать словами, насколько я горжусь тем, что попал в команду именно с этими людьми! Я горжусь каждым из них! Да, это всего лишь
              забег, соревнование, но оно показало мне, насколько всё-таки сильные и мужественные люди были у нас в команде! Я до сих пор
              восхищаюсь и Димой, и Игорем, вспоминая тот летний забег бизонов и безмерно благодарен им за то, что не бросили меня на трассе и
              не произнесли ни слова о том, что я тормозил команду! И вот такие моменты, такие люди остаются в памяти навсегда! Это по-настоящему
              сильные личности! Также и Настя (ещё один член нашей команды пешеходов) меня очень порадовала и приятно удивила тем, что для
              всей нашей команды наделала бутеров и обеспечила достойный обед и мы не остались голодными! Да и на трассе она себя очень
              достойно показала! Вообще мало есть в мире девушек, которые готовы поменять маникюр на перчатки без пальцев, приятный парфюм - на
              грязь и лужи, туфли на каблуках поменять на кроссовки. Такие девушки по-настоящему ценны, потому что они не цепляются за
              роскошь и знают, что такое труд и преодоление себя. 
              
              <p>Именно поэтому воспоминания о летнем бизоне у меня просто непередаваемые и самые приятные! Я горжусь тем, что знаю таких людей и хожу вместе
              с ними на пробежки #Followminsk. Они для меня - настоящий пример мужества, героизма и смелости! Спасибо вам, пешеходы!</p>
              
              </p>',
    'richtext' => 0,
    'template' => 3,
    'menuindex' => 0,
    'searchable' => 1,
    'cacheable' => 1,
    'createdby' => 1,
    'createdon' => 1485099313,
    'editedby' => 1,
    'editedon' => 1486448018,
    'deleted' => 0,
    'deletedon' => 0,
    'deletedby' => 0,
    'publishedon' => 1485105660,
    'publishedby' => 1,
    'menutitle' => '',
    'donthit' => 0,
    'privateweb' => 0,
    'privatemgr' => 0,
    'content_dispo' => 0,
    'hidemenu' => 0,
    'class_key' => 'modDocument',
    'context_key' => 'web',
    'content_type' => 1,
    'uri' => '',
    'uri_override' => 0,
    'hide_children_in_tree' => 0,
    'show_in_tree' => 0,
    'properties' => '{"hitspage":{"hitts":29}}',
    'image' => 
    array (
      0 => 'image',
      1 => 'assets/templates/images/running/5bjrGELo17s.jpg',
      2 => 'default',
      3 => NULL,
      4 => 'image',
    ),
    'tags' => 
    array (
      0 => 'tags',
      1 => 'followminsk, бег, Bisonrace, ДругВБедеНеБросит',
      2 => 'default',
      3 => NULL,
      4 => 'text',
    ),
    'HitsPage' => 
    array (
      0 => 'HitsPage',
      1 => '29',
      2 => 'default',
      3 => NULL,
      4 => 'text',
    ),
    'comments' => 
    array (
      0 => 'comments',
      1 => '',
      2 => 'default',
      3 => NULL,
      4 => 'text',
    ),
    '_content' => '<!DOCTYPE html>
<html>

  <head>
    <title>BisonRace 03.07.2016</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="initial-scale=1.0,user-scalable=no,maximum-scale=1">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="HandheldFriendly" content="True">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="keywords" content="premium html, themeforest templates, html5 template,agency, bootstrap, business, construction template, corporate, event, premium landing pages, magazine theme, medical website, portfoli , shop, travel, wedding">
    <meta charset="UTF-8">
    <!-- ================= Favicon ================== -->
    <!-- Standard -->
    <link rel="shortcut icon" href="assets/templates/images/icon.ico">
    <!-- Retina iPad Touch Icon-->
    <link rel="apple-touch-icon" sizes="144x144" href="assets/templates/images/favicon-retina-ipad.png">
    <!-- Retina iPhone Touch Icon-->
    <link rel="apple-touch-icon" sizes="114x114" href="assets/templates/images/favicon-retina-iphone.png">
    <!-- Standard iPad Touch Icon-->
    <link rel="apple-touch-icon" sizes="72x72" href="assets/templates/images/favicon-standard-ipad.png">
    <!-- Standard iPhone Touch Icon-->
    <link rel="apple-touch-icon" sizes="57x57" href="assets/templates/images/favicon-standard-iphone.png">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
    <!-- MAIN CSS FILES -->
    <!-- Plugins CSS -->
    <!-- Bootstrap -->
    <link href="assets/templates/plugins/bootstrap/bootstrap.min.css" rel="stylesheet" media="screen">
    <!-- SwipeBox -->
    <link href="assets/templates/plugins/swipebox/css/swipebox.min.css" rel="stylesheet">
    <!-- Animated Headline -->
    <link href="assets/templates/plugins/animated-headline/css/animated-headline.css" rel="stylesheet">
    <!-- Selecter -->
    <link href="assets/templates/plugins/fs.selecter/jquery.fs.selecter.min.css" rel="stylesheet">
    <!-- Animate -->
    <link href="assets/templates/plugins/animate/animate.min.css" rel="stylesheet">
    <!-- Ion Icons -->
    <link href="assets/templates/icon-fonts/icons.css" rel="stylesheet">
    <!-- Mouse Move Plugin -->
    <link rel="stylesheet" href="assets/templates/plugins/mouseMove3DPlugin/perspectiveRules.css" />
    <!-- Slick -->
    <link href="assets/templates/plugins/slick/slick.css" rel="stylesheet">
    <link href="assets/templates/plugins/slick/slick-theme.css" rel="stylesheet">
    <!-- 3D Progress bar Plugin -->
    <link rel="stylesheet" href="assets/templates/plugins/3Dprogressbars/component.css" />
    <link rel="stylesheet" href="assets/templates/plugins/3Dprogressbars/custom-bars.css" />
    <!-- Step Proccess CSS -->
    <link href="assets/templates/plugins/timonStepForm/css/gsi-step-indicator.min.css" rel="stylesheet">
    <link href="assets/templates/plugins/timonStepForm/css/tsf-step-form-wizard.min.css" rel="stylesheet">
    <!-- Flatpickr CSS -->
    <link rel="stylesheet" href="assets/templates/plugins/flatpickr/flatpickr.min.css" />
    <!-- Web Slide Menu CSS -->
    <link rel="stylesheet" href="assets/templates/plugins/webslide/css/webslidemenu.css" media="screen" />
    <link rel="stylesheet" href="assets/templates/plugins/webslide/css/color-theme.css" media="screen" />
    <!-- Selection Sharer -->
    <link href="assets/templates/plugins/selection-sharer/dist/selection-sharer.css" rel="stylesheet">
    <!-- Style Sheets -->
    <link href="assets/templates/css/style.css" rel="stylesheet" media="screen">
    <link href="assets/templates/css/header.css" rel="stylesheet" media="screen">
    <link href="assets/templates/css/shortcodes.css" rel="stylesheet" media="screen">
    <link href="assets/templates/css/portfolio.css" rel="stylesheet" media="screen">
    <link href="assets/templates/css/blog.css" rel="stylesheet" media="screen">
    <link href="assets/templates/css/footer.css" rel="stylesheet">
    <link href="assets/templates/css/shop.css" rel="stylesheet">
    <link href="assets/templates/css/responsive.css" rel="stylesheet">
    <link href="assets/templates/css/templates/main-color.css" rel="stylesheet">
    <link rel="stylesheet" href="assets/templates/fancybox/source/jquery.fancybox.css" type="text/css" media="screen">
    <!-- End Style Sheets -->
    <script src="assets/templates/js/jquery-1.12.4.min.js"></script>
    <!-- MAIN CSS FILES -->
  </head>

  <body class="nicescroll">
      
    <!-- Page Preloader  && Scroll to top button-->
    <a class="scroll-to-top-fixed page-scroll" href="body"><span class="icon-arrow-1-up"></span></a>
    <!-- <div class="page-preloader">
      <div class="page-loader-spinner"> <span></span><span></span><span></span> </div>
    </div> -->
    <!-- End Page Preloader -->
    <!-- SERACH FORM POPUP START -->
    <div class="search-popup-box animated fadeInDown"> 
    <span class="search-popup-close">
        <span class="icon-close"></span>
    </span>
    [[!SimpleSearchForm? &landing=`37` &tpl=`search-mobile`]]
  <!-- <form class="search-form-popup" role="search" action="" method="[[+method:default=`get`]]">
    <input type="hidden" name="id" value="[[+landing]]">
    <div class="form-group"> 
        <input type="text" class="form-control" name="[[+searchIndex]]" id="[[+searchIndex]]" value="[[+searchValue]]" placeholder="Введите слово для поиска"> 
        <button type="submit" value="Поиск">
            <span class="icon-magnifier-1"></span>
        </button> 
    </div>
  </form> -->
</div>
    <!-- SERACH FORM POPUP END -->
    <div id="wrapper" class="clearfix">
      <!-- HEADER START -->
      <div class="wsmenucontainer clearfix">
        <div class="overlapblackbg"> </div>
        <!--MOBILE HEADER-->
        <div class="wsmobileheader clearfix"> <a id="wsnavtoggle" class="animated-arrow"><span></span></a>
          <a class="brand-modern" href="http://buildyourself.by/"> <span class="logo-label">Build Yourself</span> </a>
          <div class="search-cart-navbar"> 
          <a class="btn btn-search" href="#"><span class="icon-magnifier-1"></span></a>
          </div>
        </div>
        <!-- MOBILE HEADER END -->
        <div id="header" class="header header-fullwidth header-light light-menu clearfix">
          <!--Main Menu HTML Code-->
          <div class="wsmain ">
            <div class="smllogo">
              <a class="brand-modern" href="http://buildyourself.by/"> <span class="logo-label">Build Youself</span> </a>
            </div>
            <nav class="wsmenu clearfix">
  <ul class="mobile-sub wsmenu-list">
    <li><li class="first"><a href="index.php?id=1" >Главная</a></li><li><a href="index.php?id=2" >Закаливание</a></li><li><a href="index.php?id=3" >Программирование</a></li><li><a href="index.php?id=5" >Паркур</a></li><li class="last active"><a href="index.php?id=8" >Бег</a></li></li>
  </ul>
</nav>
          </div>
          <!--Menu HTML Code-->
        </div>
      </div>
      <!-- HEADER ENDS  -->
      <section class="sticky-blog-title" data-id="#post-content" data-margin=".blog-wrapper">
        <div class="col-lg-8 col-md-8 col-sm-8 col-xs-12">
          <h3 class="fixed-title"><span>Понравилась запись?</span> Вы можете поделиться данной записью в соцсетях</h3> </div>
        <div class="col-lg-4 col-md-4 col-sm-4 col-xs-12">
          <div class="share-fixed">
            <ul class="widget-social">
              <li>
                <h3>Поделиться:</h3></li>
                <li><a target="_blank" class="popup-share" href="https://vk.com/share.php?url=http://buildyourself.by/index.php?id=55"><span class="icon-vk"></span></a></li>
<li><a target="_blank" class="popup-share" href="http://www.facebook.com/sharer/sharer.php?u=http://buildyourself.by/index.php?id=55"><span class="icon-facebook"></span></a></li>
<li><a target="_blank" class="popup-share" href="http://www.twitter.com/share?url=http://buildyourself.by/index.php?id=55&text=BisonRace 03.07.2016"><span class="icon-twitter"></span></a></li>
            </ul>
          </div>
        </div>
      </section>
        <div class="blog-post-fullwidth-featured js-parallax" data-parallax="scroll" data-image-src="assets/templates/images/running/5bjrGELo17s.jpg">
        <div class="container-fluid">
          <div class="post-single-title"> 
          [[!tagLister? &parents=`55` &tv=`tags` &tpl=`single-tag` &target=`38`]]
            <h1>BisonRace 03.07.2016</h1>
            <div class="blog-single-meta">
              <p><a href="#" class="single-comments"><span class="icon-comments-2"></span></a><a href="#" class="single-shares"><span class="icon-eye"></span>[[!HitsPage? &saveTv=`true`]]</a> </p>
            </div>
          </div>
        </div>
      </div>
      <!-- BLOG CONTENT START -->
      <section class="section clearfix">
        <div class="container-fluid">
          <div class="col-lg-9 col-md-9 col-sm-9 col-xs-12">
            <div id="post-content" class="modern-layout">
              <p>Я помню тот день, когда один парень (его зовут Дима), с которым мы бегаем вместе на тренировках #followminsk,
              узнав о моих увлечениях в паркуре, решил предложить мне поучаствовать в экстремальном забеге с препятствиями. Он
              знал, что я соглашусь, я думаю. Так и произошло: я согласился не раздумывая. Название команды у нас, скажу честно,
              было не сильно энергичным и громким: пешеходы. Но это
              вовсе не говорило о том, что мы пройдём трассу пешком. Это лишь говорило о том, что мы пришли поучаствовать, а не
              победить. <br>
              К бизону мы почти не готовились. Да, ходили на пробежки, но физическую форму лично я не подготавливал к бизону. А зря,
              очень зря! И вдруг у меня случилась неприятность: буквально за 2 недели до старта на самостоятельной пробежке я получил растяжение 
              на голеностопе. Как потом выяснилось, это из-за плохой обуви, так как в ней подошва была очень тонкая и стопа просто не
              выдержала нагрузки от бега. Я очень расстроился и надеялся, что растяжение к началу бизона пройдёт. Перестал посещать 
              тренировки, начал мазать мазями, делать компрессы и т. д. Делал всё, что можно было, чтобы вылечиться, ведь так не хотелось 
              подводить всю команду! За день до забега у нас была пробежка с #Followminsk и я решил прийти, проверить, насколько я способен
              бежать. Оказалось, что боль в голеностопе так и не прошла. Во время пробежки чувствовалась острая боль. Но ничего не поделаешь.
              Команду подвести я не мог! <br>И вот день старта! Я перебинтовал ногу эластичным бинтом перед поездкой на место проведения
              забега (горнолыжный комплекс Логойск). Нога почти не беспокоила, что меня очень радовало, и я думал, что всё пройдёт 
              нормально. Мы приехали на место, размялись, зарегистрировались, и вот, объявляют старт. Мы не стали геройствовать и заняли стартовое
              место в конце всей коллоны участников. 10 стартовых <a href="assets/templates/images/running/burpi1.jpg">бурпи</a> и старт! Мы стартанули довольно хорошо, старались держаться вместе и ждали
              друг друга, если кто-либо из нас отстаёт. Боль в ноге у меня была, но я терпел, и старался не подавать вида, что меня
              что-то беспокоит. По ходу трассы мы все препятствия преодолевали вместе. Помогали друг другу, если у кого-то что-то не получалось.
              На некоторых препятствиях были особые правила, где в случае, если никто из команды не может пройти препятствие, то один человек
              из команды должен был сделать 30 штрафных бурпи, и только потом мог помогать своим товарищам. Буквально на всех таких препятствиях
              бурпи делал Игорь (на фото он рядом со мной стоит)! На таких препятствиях мы никогда не останавливась для того, чтобы решить, кто из нас будет делать бурпи. 
              Игорь сам добровольно шёл их делать. До сих пор поражаюсь его стойкости и выносливости. И, чтобы вы представляли, Игорю не 20 и не 30 лет.
              Он гораздо старше нас и, тем не менее, делал за нас эти бурпи! Я знал, что я не смогу сделать эти бурпи из-за травмы, потому что с
              прохождением трассы моя нога стала меня всё больше и больше беспокоить. Да и сам Игорь с Димой запретили мне их делать. Мне было стыдно,
              стыдно от того, что не мог ничем помочь своим друзьям по команде. Но в то же время я ими восхищался! <br>
              С каждым пройденным препятствием боль в ногие становилась всё чувствительней и чувствительней. Бежать в полную силу я уже не мог, приходилось
              на ровных местах переходить на шаг, хотя другие этот участок пробегали. Но насколько же я благодарен всем "пешеходам" за то, 
              что не бросали меня! Да, где-то я сильно отставал по дороге, но видя это, вся команда замедлялась ради того, чтобы подождать меня.
              И меня это ободряло! Под конец дистанции прыгать я уже совершенно не мог, не говоря уже о том, чтобы просто бежать, однако все оставшиеся
              препятствия я старался проходить сам, не напрягая своих друзей по команде. До конца всей трассы я шёл прихрамывая на больную ногу, но моя
              команда не бросала меня. Более того, Дима предложил до финиша меня донести на плечах. И пусть я упирался и говорил, что я
              дойду сам, Дима наперекор мне взял меня под плечо и шёл рядом со мной, чтобы помочь мне дойти до финиша. Оставалось ещё несколько препятствий.
              Я уговорил Диму оставить меня и проходить препятствие, так как оно в принципе было не сложным. Пройдя это препятствие я попробовал
              бежать в медленном темпе, и в общем-то у меня это получалось, поэтому я уже не стал обращаться за помощью. У самого финиша, пройдя последнее
              испытание, Игорь взял меня на плечи и мы вместе пересекли финишную черту, чтобы по результатам финиша я не был последним.</p>
              <p>Просто не 
              описать словами, насколько я горжусь тем, что попал в команду именно с этими людьми! Я горжусь каждым из них! Да, это всего лишь
              забег, соревнование, но оно показало мне, насколько всё-таки сильные и мужественные люди были у нас в команде! Я до сих пор
              восхищаюсь и Димой, и Игорем, вспоминая тот летний забег бизонов и безмерно благодарен им за то, что не бросили меня на трассе и
              не произнесли ни слова о том, что я тормозил команду! И вот такие моменты, такие люди остаются в памяти навсегда! Это по-настоящему
              сильные личности! Также и Настя (ещё один член нашей команды пешеходов) меня очень порадовала и приятно удивила тем, что для
              всей нашей команды наделала бутеров и обеспечила достойный обед и мы не остались голодными! Да и на трассе она себя очень
              достойно показала! Вообще мало есть в мире девушек, которые готовы поменять маникюр на перчатки без пальцев, приятный парфюм - на
              грязь и лужи, туфли на каблуках поменять на кроссовки. Такие девушки по-настоящему ценны, потому что они не цепляются за
              роскошь и знают, что такое труд и преодоление себя. 
              
              <p>Именно поэтому воспоминания о летнем бизоне у меня просто непередаваемые и самые приятные! Я горжусь тем, что знаю таких людей и хожу вместе
              с ними на пробежки #Followminsk. Они для меня - настоящий пример мужества, героизма и смелости! Спасибо вам, пешеходы!</p>
              
              </p>
            </div>
            <div class="comment_response">
                <h3 id="comment-title"><b><span id="num-com">0</span> <span id="word">комментариев</span></b></h3>
              <form id="add-comment" class="comment-form" action="javascript:void(null);" onsubmit="call()" method="post">
    <h3 id="title">Оставьте Ваш комментарий:</h3>
    <fieldset>
      <div> <label>Ваше имя: <span>*</span></label> <input type="text" name="name" id="name" value=""> </div>
      <div> <label>Комментарий: <span>*</span></label> <textarea name="comment" id="comment" cols="40" rows="3"></textarea> </div>
      <div> 
          <label>Минутка математики. Проверим Вашу таблицу умножения. Сколько будет: <span id="number1"></span>x<span id="number2"></span></label> 
          <input type="text" name="result" id="result" value=""> 
        </div>
    </fieldset> <button type="submit" class="btn btn-xlg btn-default" id="send" disabled>Отправить</button>
    <input type="hidden" name="page_id" value="55" />
    <input type="hidden" name="pagetitle" value="BisonRace 03.07.2016" />
    <div class="clearfix"></div>
    <div class="margin-bottom-20"></div>
  </form>
  <script>
      		window.onload = main();
		function Invalid(element, hasNumber){
			hasNumber = hasNumber || 0;
			element.style.color = "red";
			if(hasNumber){
				element.value = "Проверьте ведённые данные";	
			}else{
				element.value = "Это поле должно быть заполнено";
			}
			document.getElementById("send").disabled = true;
		}
		function Valid(){
			document.getElementById("send").disabled = false;
		}

		function Reset(element){
			element.value = "";
			element.style.color = "#909090";
		}

		function ContainNumber(str){
			return parseInt(str.replace(/\\D/g, \'\')) || 0;
		}
		function call(){
		    if(document.getElementById("result").value == window.multiplic){
	            var comment = $(\'#add-comment\').serialize();
	            $.ajax({
	                type: \'POST\',
	                url: "assets/write_comment.php",
	                data: comment,
	                success: function(data){
	                       var media = $("<div class=\'media\'></div>")
                          var imgLink = $("<a class=\'pull-left\' href=\'#\'></a>")
                          var img = $("<img src=\'assets/templates/images/user.png\' class=\'media-object\' alt=\'\'>");
                          media.append(imgLink.append(img));
                          
                          var body = $("<div class=\'media-body\'>");
                          var cloud = $("<div class=\'media_cloud\'></div>");
                          var heading = $("<h6 class=\'media-heading\'></h6>");
                          heading.append($("<a href=\'#\'>" + $("#name").val() + "</a>"));
                          var date = new Date();
                          var Year = date.getFullYear();
                            var Month = date.getMonth();
                            var Day = date.getDate();
                            var Hour = date.getHours();
                            var Minutes = date.getMinutes();
                            var Seconds = date.getSeconds();
                          heading.append($("<small>" + Year + "-" + (Month + 1) + "-" + Day + " " + Hour + ":" + Minutes + ":" + Seconds + "</small>"));
                          var content = $("<p>" + $("#comment").val() + "<a href=\'\' class=\'reply_link\'><span class=\'icon-back-7\'></span></a></p>");
                          
                          cloud.append(heading).append(content);
                          body.append(cloud);
                          media.append(body);
                          $("#add-comment").before(media);
                          $("#name").val("");
                          $("#comment").val("");
                          $("#result").val("");
                          
                          var randomNumberOne = Math.floor(Math.random() * (10 - 1 + 1)) + 1;
		                    var randomNumberTwo = Math.floor(Math.random() * (10 - 1 + 1)) + 1;
		                    window.multiplic = randomNumberOne*randomNumberTwo;
		                    $("#number1").text(randomNumberOne);
		                    $("#number2").text(randomNumberTwo);
		                    
                          var currentNumber = parseInt($("#num-com").text(), 10);
                          currentNumber = currentNumber + 1;
                            if((currentNumber == 1) || (currentNumber % 10 == 1)){
                                $("#word").text("комментарий");
                            }else if(((currentNumber >= 2) && (currentNumber <= 4)) ||
                                        ((currentNumber % 20 >= 2) && (currentNumber % 20 <= 4))){
                                $("#word").text("комментария");
                            }else if(((currentNumber >= 5) && (currentNumber <= 20)) || (data.length % 20 == 0)){
                                $("#word").text("комментарев");
                            }
                            $("#comments").text(currentNumber);
                            $("#num-com").text(currentNumber);
	                },
	                error: function(){
	                    alert("error");
	                }
	            });
    		}else{
    		    document.getElementById("result").style.color = "red";
    		    document.getElementById("result").value = "Неа!";
    		}
		}
		
		function main(){
		    var randomNumberOne = Math.floor(Math.random() * (10 - 1 + 1)) + 1;
		    var randomNumberTwo = Math.floor(Math.random() * (10 - 1 + 1)) + 1;
		    window.multiplic = randomNumberOne*randomNumberTwo;
		    document.getElementById("number1").innerHTML = randomNumberOne;
		    document.getElementById("number2").innerHTML = randomNumberTwo;
		    
			document.getElementById("name").addEventListener("blur", function(){
				if(this.value === ""){
					Invalid(this);
				}else if(ContainNumber(this.value) !== 0){
					Invalid(this, 1);
				}else if((document.getElementById("comment").style.color != "red") &&
				        (document.getElementById("result").value !== "") &&
				        (document.getElementById("comment").value !== "") &&
				        (document.getElementById("result").style.color != "red")){
					Valid();
				}
			});
			document.getElementById("comment").addEventListener("blur", function(){
				if(this.value === ""){
					Invalid(this);
				}else if(document.getElementById("name").style.color != "red"){
					Valid();
				}
			});
			
	        document.getElementById("name").addEventListener("focus", function(){
				if(this.style.color === "red"){
					Reset(this);
				}
				if((document.getElementById("comment").style.color !== "red") &&
				    this.value !== ""){
					Valid();
				}
			});
			document.getElementById("result").addEventListener("focus", function(){
					Reset(this);
			});
			document.getElementById("comment").addEventListener("focus", function(){
				if(this.style.color === "red"){
					Reset(this);
				}
				if((document.getElementById("name").style.color !== "red") &&
				    (this.value !== "") &&
				    (document.getElementById("result").value == "")){
					Valid();
				}
			});
		}
  </script>
              <script>
                  function showReplyForm(e, id){
                      var element = document.getElementById("reply-form-" + id );
                      
                      element.style.display = (element.style.display == "block") ? "none" : "block";
                  }
                  function call_reply(id){
            	            var comment = $(\'#reply-form-\' + id).serialize();
            	            $.ajax({
            	                type: \'POST\',
            	                url: "assets/write_comment.php",
            	                data: comment,
            	                success: function(data){
            	                       var media = $("<div class=\'media\'></div>")
                                      var imgLink = $("<a class=\'pull-left\' href=\'#\'></a>")
                                      var img = $("<img src=\'assets/templates/images/user.png\' class=\'media-object\' alt=\'\'>");
                                      media.append(imgLink.append(img));
                                      
                                      var body = $("<div class=\'media-body\'>");
                                      var cloud = $("<div class=\'media_cloud\'></div>");
                                      var heading = $("<h6 class=\'media-heading\'></h6>");
                                      heading.append($("<a href=\'#\'>" + $("#reply_name-" + id).val() + "</a>"));
                                      var date = new Date();
                                      var Year = date.getFullYear();
                                        var Month = date.getMonth();
                                        var Day = date.getDate();
                                        var Hour = date.getHours();
                                        var Minutes = date.getMinutes();
                                        var Seconds = date.getSeconds();
                                      heading.append($("<small>" + Year + "-" + (Month + 1) + "-" + Day + " " + Hour + ":" + Minutes + ":" + Seconds + "</small>"));
                                      var content = $("<p>" + $("#reply_message-" + id).val() + "</p>");
                                      
                                      cloud.append(heading).append(content);
                                      body.append(cloud);
                                      media.append(body);
                                      
                                      $("#" + id + ".media-body").first().append(media); //Где-то здесь ошибка!!!!!!
                                      $("#reply-form-" + id).hide();
            	                },
            	                error: function(){
            	                    alert("error");
            	                }
            	            });
            		}
                  $(document).ready(function(){
                      $.ajax({
                          url: "assets/getComments.php",
                          dataType: "json",
                          data: "id=" + 55,
                          success: function(data, textStatus){
                              data = data.reverse();
                              var replies = [];
                              var numbOfReplies = 0;
                            $.each(data, function(index, value){
                                var media = $("<div class=\'media\' id=\'" + value.id + "\'></div>")
                                  var imgLink = $("<a class=\'pull-left\' href=\'#\'></a>")
                                  var img = $("<img src=\'assets/templates/images/user.png\' class=\'media-object\' alt=\'\'>");
                                  media.append(imgLink.append(img));
                                  
                                  var body = $("<div class=\'media-body\'>");
                                  var cloud = $("<div class=\'media_cloud\'></div>");
                                  var heading = $("<h6 class=\'media-heading\'></h6>");
                                  heading.append($("<a href=\'#\'>" + value.name + "</a>"));
                                  heading.append($("<small>" + value.date + "</small>"));
                                  var formHTML = $(\'<form style="display:none" id="reply-form-\' + value.id + \'" class="form-contact-3 form-tab form-light centered" role="form" method="post" action="javascript:void(null);" onsubmit="call_reply(\' + value.id + \')" data-toggle="validator"></form>\');
                                  
                                  var fieldset = $("<fieldset></fieldset>");
                                  for(var i = 0; i < 3; i++){
                                      var container = $(\'<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 no-padding"></div>\');
                                        container.append($(\'<div class="form-group form-input no-margin"></div>\').append($(\'<div class="help-block with-errors"></div>\')));
                                      fieldset.append(container);
                                  }
                                  
                                  formHTML.append(fieldset);
                                  formHTML.append($("<input type=\'hidden\' name=\'reply_id\' value=\'" + value.id + "\'>"));
                                  formHTML.append($("<input type=\'hidden\' name=\'page_id\' value=\'" + 55 + "\'>"));
                                  formHTML.append($("<input type=\'hidden\' name=\'pagetitle\' value=\'BisonRace 03.07.2016\'>"));
                                  formHTML.find(".no-padding:first-child .form-group").append(\'<input required data-name="Name" name="name" id="reply_name-\' + value.id + \'" data-type="input" type="text" placeholder="Ваше имя">\');
                                  formHTML.find(".no-padding:nth-child(2) .form-group").append(\'<textarea required data-name="Message" name="comment" id="reply_message-\' + value.id + \'" type="text" placeholder="Сообщение">\');
                                  formHTML.find(".no-padding:last-child .form-group" ).append(\'<button type="submit" class="btn btn-lg btn-default btn-animation-right no-margin form-input">Отправить<span class="icon-arrow-1-right"></span></button>\');
                                  var content = $("<p>" + value.comment + "<a href=\'#\' onclick=\'showReplyForm(event, " + value.id + ")\' class=\'reply_link\'><span class=\'icon-back-7\'></span></a></p>");
                                  content.append(formHTML);
                                  cloud.append(heading).append(content);
                                  body.append(cloud);
                                  media.append(body);
                                  if(value.reply_id == null || value.reply_id == 0){
                                      $("#comment-title").after(media);
                                  }else{
                                      replies[numbOfReplies] = value;
                                      numbOfReplies = numbOfReplies + 1;
                                  }
                            })
                            replies = replies.reverse();
                            $.each(replies, function(index, value){ // If the comment has a reply, append it to the correspondent comment
                                var media = $("<div class=\'media\'></div>");
                                  var imgLink = $("<a class=\'pull-left\' href=\'#\'></a>");
                                  var img = $("<img src=\'assets/templates/images/user.png\' class=\'media-object\' alt=\'\'>");
                                  media.append(imgLink.append(img));
                                  
                                  var body = $("<div class=\'media-body\'>");
                                  var cloud = $("<div class=\'media_cloud\'></div>");
                                  var heading = $("<h6 class=\'media-heading\'></h6>");
                                  heading.append($("<a href=\'#\'>" + value.name + "</a>"));
                                  heading.append($("<small>" + value.date + "</small>"));
                                  var content = $("<p>" + value.comment + "</p>");
                                  cloud.append(heading).append(content);
                                  body.append(cloud);
                                  media.append(body);
                                $("#" + value.reply_id).find(".media-body").first().append(media);
                            })
                            $("#num-com").text(data.length);
                            if((data.length == 1) || (data.length % 10 == 1)){
                                $("#word").text("комментарий");
                            }else if(((data.length >= 2) && (data.length <= 4)) ||
                                        ((data.length % 20 >= 2) && (data.length % 20 <= 4))){
                                $("#word").text("комментария");
                            }else if(((data.length >= 5) && (data.length <= 20)) || (data.length % 20 == 0)){
                                $("#word").text("комментарев");
                            }
                            $("#comments").append(data.length);
                          },
                          
                          error: function (jqXHR, exception) {
                                var msg = \'\';
                                if (jqXHR.status === 0) {
                                    msg = \'Not connect.\\n Verify Network.\';
                                } else if (jqXHR.status == 404) {
                                    msg = \'Requested page not found. [404]\';
                                } else if (jqXHR.status == 500) {
                                    msg = \'Internal Server Error [500].\';
                                } else if (exception === \'parsererror\') {
                                    msg = \'Requested JSON parse failed.\';
                                } else if (exception === \'timeout\') {
                                    msg = \'Time out error.\';
                                } else if (exception === \'abort\') {
                                    msg = \'Ajax request aborted.\';
                                } else {
                                    msg = \'Uncaught Error.\\n\' + jqXHR.responseText;
                                }
                                alert(msg);
                            }
                      })
                  })
              </script>
              </div>
          </div>
          <!-- Sidebar start -->
          <div class="col-lg-3 col-md-3 col-sm-3 col-xs-12 sidebar right">
            <div class="widget">
              <h4>Категории</h4>
              <ul class="sidebar-category">
                <ul class=""><li class="first"><a href="index.php?id=1" >Главная</a></li><li><a href="index.php?id=2" >Закаливание</a></li><li><a href="index.php?id=3" >Программирование</a></li><li><a href="index.php?id=5" >Паркур</a></li><li class="last active"><a href="index.php?id=8" >Бег</a></li></ul>
              </ul>
            </div>
            <div class="widget">
              <div class="tabpanel-style-1 no-margin" role="tabpanel">
                <!-- Nav tabs -->
                <ul class="nav nav-tabs no-margin" role="tablist">
                  <li role="presentation" class="active"><a href="#popular" aria-controls="description" role="tab" data-toggle="tab">Популярные посты</a></li>
                  <li role="presentation"><a href="#newposts" aria-controls="profile" role="tab" data-toggle="tab">Новые посты</a></li>
                  
                </ul>
                <!-- Tab panes -->
                <div class="tab-content">
                  <div role="tabpanel" class="tab-pane fade in active" id="popular">
                    <ul class="sidebar-shop-products-list no-margin">
                      <li>
    <a href="index.php?id=47" class="image-thumb">
        <img src="assets/templates/images/hardening/Снимок экрана 2017-01-21 в 9.24.21.png" alt="">
    </a>
    <a class="ssp-title" href="index.php?id=47">Добавьте контраст</a>
    <span class="ssp-price">20 января 2017</span>
</li>
<li>
    <a href="index.php?id=58" class="image-thumb">
        <img src="assets/templates/images/programming/Снимок экрана 2017-01-23 в 19.42.38.png" alt="">
    </a>
    <a class="ssp-title" href="index.php?id=58">Не экономьте на знаниях</a>
    <span class="ssp-price">23 января 2017</span>
</li>
<li>
    <a href="index.php?id=50" class="image-thumb">
        <img src="assets/templates/images/programming/Фото 19.01.17, 15.55.jpg" alt="">
    </a>
    <a class="ssp-title" href="index.php?id=50">Моя первая полноценная программа</a>
    <span class="ssp-price">19 января 2017</span>
</li>
<li>
    <a href="index.php?id=62" class="image-thumb">
        <img src="assets/templates/images/parkour/287-2.jpg" alt="">
    </a>
    <a class="ssp-title" href="index.php?id=62">Есть вещи, которые нельзя купить. Для всего остального есть MasterCard</a>
    <span class="ssp-price">01 февраля 2017</span>
</li>
<li>
    <a href="index.php?id=63" class="image-thumb">
        <img src="assets/templates/images/hardening/Me.jpg" alt="">
    </a>
    <a class="ssp-title" href="index.php?id=63">Закаливание вредит вашему здоровью!</a>
    <span class="ssp-price">04 февраля 2017</span>
</li>
                    </ul>
                  </div>
                  <div role="tabpanel" class="tab-pane fade" id="newposts">
                    <ul class="sidebar-shop-products-list no-margin">
                        <li>
    <a href="index.php?id=66" class="image-thumb">
        <img src="assets/templates/images/programming/IMG_0013.JPG" alt="">
    </a>
    <a class="ssp-title" href="index.php?id=66">Друг всегда заплатит за проезд в метро за двоих, предварительно взяв у тебя деньги.</a>
    <span class="ssp-price">06 февраля 2017</span>
</li>
<li>
    <a href="index.php?id=63" class="image-thumb">
        <img src="assets/templates/images/hardening/Me.jpg" alt="">
    </a>
    <a class="ssp-title" href="index.php?id=63">Закаливание вредит вашему здоровью!</a>
    <span class="ssp-price">04 февраля 2017</span>
</li>
<li>
    <a href="index.php?id=62" class="image-thumb">
        <img src="assets/templates/images/parkour/287-2.jpg" alt="">
    </a>
    <a class="ssp-title" href="index.php?id=62">Есть вещи, которые нельзя купить. Для всего остального есть MasterCard</a>
    <span class="ssp-price">01 февраля 2017</span>
</li>
<li>
    <a href="index.php?id=60" class="image-thumb">
        <img src="assets/templates/images/parkour/WP_20170122_14_31_25_Selfie.jpg" alt="">
    </a>
    <a class="ssp-title" href="index.php?id=60">Не подстраивайся под мир, пусть мир подстроится под тебя</a>
    <span class="ssp-price">25 января 2017</span>
</li>
<li>
    <a href="index.php?id=59" class="image-thumb">
        <img src="assets/templates/images/hardening/fd1eab9b9984f7e3da140d4e54cf349c.jpg" alt="">
    </a>
    <a class="ssp-title" href="index.php?id=59">ЖЭС подскажет, когда идти дальше!</a>
    <span class="ssp-price">24 января 2017</span>
</li>  
                    </ul>
                  </div>
                </div>
              </div>
            </div>
            <div class="widget">
  <h4>Облако тегов</h4>
  <ul class="tags-cloud-list">
    [[!tagLister? &tv=`tags` &tpl=`single-tag-li` &target=`38`]] 
  </ul>
</div>
          </div>
          <!-- Sidebar end -->
        </div>
      </section>
      
      <!-- BLOG CONTENT END -->
      <!-- FOOTER STARTS -->
      <section class="section no-padding">
        <a href="index.php?id=36" class="call-to-action-link background-3 callback" data-fancybox-type="iframe">
          <h4>Если у вас есть вопросы, спрашивайте!<span class="icon-arrow-1-right"></span></h4> </a>
      </section>
      <!-- Footer -->
      <section class="section no-padding clearfix" style="background-image: -moz-linear-gradient(left, rgba(77,92,178,1) 24%, rgba(68,81,167,1) 100%);
background-image: -webkit-linear-gradient(left, rgba(77,92,178,1) 24%,rgba(68,81,167,1) 100%);
background-image: linear-gradient(90deg, rgba(77,92,178,1) 24%,rgba(68,81,167,1) 100%);
background-image: -o-linear-gradient(left, rgb(77,92,178) 24%, rgb(68,81,167,1) 100%);
background-image: -ms-linear-gradient(left, rgb(77,92,178) 24%, rgb(68,81,167,1) 100%);">
        <!-- COPYRIGHTS START -->
        <section id="copyrights" class="copyrights-center maincolor double-padding transparent-background">
          <div class="container-fluid">
            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
              <ul class="widget-social pull-center">
                <li><a href="https://vk.com/mantovpinets"><span class="icon-vk"></span></a></li>
                <li><a href="https://www.facebook.com/kirill.tovpinec"><span class="icon-facebook"></span></a></li>
                <li><a href="https://twitter.com/KirillTovpinec"><span class="icon-twitter"></span></a></li>
                <li><a href="https://www.linkedin.com/in/kirill-tovpinets-83aa8283?trk=nav_responsive_tab_profile_pic"><span class="icon-linkedin"></span></a></li>
                <li><a href="https://www.instagram.com/kirill_tovpinets/"><span class="icon-instagram"></span></a></li>
              </ul>
              <p class="copyrights-text-custom">Copyrights &#169; 2017 Все права защищены и преследуются автором блога. </p>
            </div>
          </div>
        </section>
        <!-- COPYRIGHTS END -->
      </section>
    </div>
    <!-- MAIN JS FILES -->
<!-- jQuery & Accessories -->
<!-- Plugins -->
<!-- Jquery UI -->
<script type="text/javascript" src="assets/templates/plugins/jquery/jquery-ui.min.js"></script>
<!-- Bootstrap -->
<script type="text/javascript" src="assets/templates/plugins/bootstrap/bootstrap.min.js"></script>
<!-- Easing Plugin -->
<script type="text/javascript" src="assets/templates/plugins/easing/jquery.easing.min.js"></script>
<!-- Header Plugin -->
<script type="text/javascript" src="assets/templates/plugins/webslide/js/webslidemenu.js"></script>
<!-- Parallax Plugin -->
<script type="text/javascript" src="assets/templates/plugins/parallax/jquery.parallax.min.js"></script>
<!-- Swipebox Plugin -->
<script type="text/javascript" src="assets/templates/plugins/swipebox/js/jquery.swipebox.min.js"></script>
<!-- Smoothscroll Plugin -->
<script type="text/javascript" src="assets/templates/plugins/smoothscroll/smoothscroll.js"></script>
<!-- Sticky Plugin -->
<script type="text/javascript" src="assets/templates/plugins/sticky/jquery.sticky.js"></script>
<!-- Select Plugin -->
<script type="text/javascript" src="assets/templates/plugins/fs.selecter/jquery.fs.selecter.min.js"></script>
<!-- Waypoint Plugin -->
<script type="text/javascript" src="assets/templates/plugins/waypoints/jquery.waypoints.min.js"></script>
<!-- FlickrFeed Plugin -->
<script type="text/javascript" src="assets/templates/plugins/jflickrfeed/jflickrfeed.min.js"></script>
<!-- Dribbble Plugin -->
<script type="text/javascript" src="assets/templates/plugins/jribbble/jribbble.min.js"></script>
<!-- Twitter Plugin -->
<script type="text/javascript" src="assets/templates/plugins/tweetie/tweetie.min.js"></script>
<!-- Validator Plugin -->
<script type="text/javascript" src="assets/templates/plugins/bootstrap-validator/js/validator.min.js"></script>
<!-- Material Kit Plugin -->
<script type="text/javascript" src="assets/templates/plugins/materialKit/material.min.js"></script>
<script type="text/javascript" src="assets/templates/plugins/materialKit/material-kit.js"></script>
<!-- Selection Sharer -->
<script type="text/javascript" src="assets/templates/plugins/selection-sharer/dist/selection-sharer.js"></script>
<script type="text/javascript" src="assets/templates/fancybox/source/jquery.fancybox.pack.js"></script>
<script>
  (function(d, s, id)
  {
    var js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return;
    js = d.createElement(s);
    js.id = id;
    js.src =assets/templates/ "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.5&appId=696154480488350";
    fjs.parentNode.insertBefore(js, fjs);
  }(document, \'script\', \'facebook-jssdk\'));
</script>
<script>
        
        $(document).ready(function(){
            
            $(\'.callback\').fancybox({
        		maxWidth	: 800,
        		maxHeight	: 600,
        		fitToView	: false,
        		width		: \'70%\',
        		height		: \'70%\',
        		autoSize	: false,
        		closeClick	: false,
        		openEffect	: \'fade\',
        		closeEffect	: \'fade\'
        	});
        });
        
      </script>
<!-- Theme Functions -->
<script type="text/javascript" src="assets/templates/js/theme.functions.js"></script>
<!-- Social Widgets Config -->
<script type="text/javascript" src="assets/templates/js/social-widgets-config.js"></script>
  </body>

</html>',
    '_isForward' => false,
  ),
  'contentType' => 
  array (
    'id' => 1,
    'name' => 'HTML',
    'description' => 'HTML content',
    'mime_type' => 'text/html',
    'file_extensions' => '.html',
    'headers' => NULL,
    'binary' => 0,
  ),
  'policyCache' => 
  array (
  ),
  'elementCache' => 
  array (
    '[[$includes-single]]' => '<title>BisonRace 03.07.2016</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="initial-scale=1.0,user-scalable=no,maximum-scale=1">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="HandheldFriendly" content="True">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="keywords" content="premium html, themeforest templates, html5 template,agency, bootstrap, business, construction template, corporate, event, premium landing pages, magazine theme, medical website, portfoli , shop, travel, wedding">
    <meta charset="UTF-8">
    <!-- ================= Favicon ================== -->
    <!-- Standard -->
    <link rel="shortcut icon" href="assets/templates/images/icon.ico">
    <!-- Retina iPad Touch Icon-->
    <link rel="apple-touch-icon" sizes="144x144" href="assets/templates/images/favicon-retina-ipad.png">
    <!-- Retina iPhone Touch Icon-->
    <link rel="apple-touch-icon" sizes="114x114" href="assets/templates/images/favicon-retina-iphone.png">
    <!-- Standard iPad Touch Icon-->
    <link rel="apple-touch-icon" sizes="72x72" href="assets/templates/images/favicon-standard-ipad.png">
    <!-- Standard iPhone Touch Icon-->
    <link rel="apple-touch-icon" sizes="57x57" href="assets/templates/images/favicon-standard-iphone.png">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
    <!-- MAIN CSS FILES -->
    <!-- Plugins CSS -->
    <!-- Bootstrap -->
    <link href="assets/templates/plugins/bootstrap/bootstrap.min.css" rel="stylesheet" media="screen">
    <!-- SwipeBox -->
    <link href="assets/templates/plugins/swipebox/css/swipebox.min.css" rel="stylesheet">
    <!-- Animated Headline -->
    <link href="assets/templates/plugins/animated-headline/css/animated-headline.css" rel="stylesheet">
    <!-- Selecter -->
    <link href="assets/templates/plugins/fs.selecter/jquery.fs.selecter.min.css" rel="stylesheet">
    <!-- Animate -->
    <link href="assets/templates/plugins/animate/animate.min.css" rel="stylesheet">
    <!-- Ion Icons -->
    <link href="assets/templates/icon-fonts/icons.css" rel="stylesheet">
    <!-- Mouse Move Plugin -->
    <link rel="stylesheet" href="assets/templates/plugins/mouseMove3DPlugin/perspectiveRules.css" />
    <!-- Slick -->
    <link href="assets/templates/plugins/slick/slick.css" rel="stylesheet">
    <link href="assets/templates/plugins/slick/slick-theme.css" rel="stylesheet">
    <!-- 3D Progress bar Plugin -->
    <link rel="stylesheet" href="assets/templates/plugins/3Dprogressbars/component.css" />
    <link rel="stylesheet" href="assets/templates/plugins/3Dprogressbars/custom-bars.css" />
    <!-- Step Proccess CSS -->
    <link href="assets/templates/plugins/timonStepForm/css/gsi-step-indicator.min.css" rel="stylesheet">
    <link href="assets/templates/plugins/timonStepForm/css/tsf-step-form-wizard.min.css" rel="stylesheet">
    <!-- Flatpickr CSS -->
    <link rel="stylesheet" href="assets/templates/plugins/flatpickr/flatpickr.min.css" />
    <!-- Web Slide Menu CSS -->
    <link rel="stylesheet" href="assets/templates/plugins/webslide/css/webslidemenu.css" media="screen" />
    <link rel="stylesheet" href="assets/templates/plugins/webslide/css/color-theme.css" media="screen" />
    <!-- Selection Sharer -->
    <link href="assets/templates/plugins/selection-sharer/dist/selection-sharer.css" rel="stylesheet">
    <!-- Style Sheets -->
    <link href="assets/templates/css/style.css" rel="stylesheet" media="screen">
    <link href="assets/templates/css/header.css" rel="stylesheet" media="screen">
    <link href="assets/templates/css/shortcodes.css" rel="stylesheet" media="screen">
    <link href="assets/templates/css/portfolio.css" rel="stylesheet" media="screen">
    <link href="assets/templates/css/blog.css" rel="stylesheet" media="screen">
    <link href="assets/templates/css/footer.css" rel="stylesheet">
    <link href="assets/templates/css/shop.css" rel="stylesheet">
    <link href="assets/templates/css/responsive.css" rel="stylesheet">
    <link href="assets/templates/css/templates/main-color.css" rel="stylesheet">
    <link rel="stylesheet" href="assets/templates/fancybox/source/jquery.fancybox.css" type="text/css" media="screen">
    <!-- End Style Sheets -->
    <script src="assets/templates/js/jquery-1.12.4.min.js"></script>
    <!-- MAIN CSS FILES -->',
    '[[%sisea.search? &namespace=`sisea` &topic=`default`]]' => 'Поиск',
    '[[$search]]' => '<div class="search-popup-box animated fadeInDown"> 
    <span class="search-popup-close">
        <span class="icon-close"></span>
    </span>
    [[!SimpleSearchForm? &landing=`37` &tpl=`search-mobile`]]
  <!-- <form class="search-form-popup" role="search" action="" method="[[+method:default=`get`]]">
    <input type="hidden" name="id" value="[[+landing]]">
    <div class="form-group"> 
        <input type="text" class="form-control" name="[[+searchIndex]]" id="[[+searchIndex]]" value="[[+searchValue]]" placeholder="Введите слово для поиска"> 
        <button type="submit" value="Поиск">
            <span class="icon-magnifier-1"></span>
        </button> 
    </div>
  </form> -->
</div>',
    '[[$mobile-header]]' => '<div class="wsmobileheader clearfix"> <a id="wsnavtoggle" class="animated-arrow"><span></span></a>
          <a class="brand-modern" href="http://buildyourself.by/"> <span class="logo-label">Build Yourself</span> </a>
          <div class="search-cart-navbar"> 
          <a class="btn btn-search" href="#"><span class="icon-magnifier-1"></span></a>
          </div>
        </div>',
    '[[pdoMenu?
        &parents=`0`
        &level=`1`
        &tplOuter=`@INLINE <li>[[+wrapper]]</li>`]]' => '<li><li class="first"><a href="index.php?id=1" >Главная</a></li><li><a href="index.php?id=2" >Закаливание</a></li><li><a href="index.php?id=3" >Программирование</a></li><li><a href="index.php?id=5" >Паркур</a></li><li class="last active"><a href="index.php?id=8" >Бег</a></li></li>',
    '[[$page-nav-list]]' => '<nav class="wsmenu clearfix">
  <ul class="mobile-sub wsmenu-list">
    <li><li class="first"><a href="index.php?id=1" >Главная</a></li><li><a href="index.php?id=2" >Закаливание</a></li><li><a href="index.php?id=3" >Программирование</a></li><li><a href="index.php?id=5" >Паркур</a></li><li class="last active"><a href="index.php?id=8" >Бег</a></li></li>
  </ul>
</nav>',
    '[[$AddComment]]' => '<form id="add-comment" class="comment-form" action="javascript:void(null);" onsubmit="call()" method="post">
    <h3 id="title">Оставьте Ваш комментарий:</h3>
    <fieldset>
      <div> <label>Ваше имя: <span>*</span></label> <input type="text" name="name" id="name" value=""> </div>
      <div> <label>Комментарий: <span>*</span></label> <textarea name="comment" id="comment" cols="40" rows="3"></textarea> </div>
      <div> 
          <label>Минутка математики. Проверим Вашу таблицу умножения. Сколько будет: <span id="number1"></span>x<span id="number2"></span></label> 
          <input type="text" name="result" id="result" value=""> 
        </div>
    </fieldset> <button type="submit" class="btn btn-xlg btn-default" id="send" disabled>Отправить</button>
    <input type="hidden" name="page_id" value="55" />
    <input type="hidden" name="pagetitle" value="BisonRace 03.07.2016" />
    <div class="clearfix"></div>
    <div class="margin-bottom-20"></div>
  </form>
  <script>
      		window.onload = main();
		function Invalid(element, hasNumber){
			hasNumber = hasNumber || 0;
			element.style.color = "red";
			if(hasNumber){
				element.value = "Проверьте ведённые данные";	
			}else{
				element.value = "Это поле должно быть заполнено";
			}
			document.getElementById("send").disabled = true;
		}
		function Valid(){
			document.getElementById("send").disabled = false;
		}

		function Reset(element){
			element.value = "";
			element.style.color = "#909090";
		}

		function ContainNumber(str){
			return parseInt(str.replace(/\\D/g, \'\')) || 0;
		}
		function call(){
		    if(document.getElementById("result").value == window.multiplic){
	            var comment = $(\'#add-comment\').serialize();
	            $.ajax({
	                type: \'POST\',
	                url: "assets/write_comment.php",
	                data: comment,
	                success: function(data){
	                       var media = $("<div class=\'media\'></div>")
                          var imgLink = $("<a class=\'pull-left\' href=\'#\'></a>")
                          var img = $("<img src=\'assets/templates/images/user.png\' class=\'media-object\' alt=\'\'>");
                          media.append(imgLink.append(img));
                          
                          var body = $("<div class=\'media-body\'>");
                          var cloud = $("<div class=\'media_cloud\'></div>");
                          var heading = $("<h6 class=\'media-heading\'></h6>");
                          heading.append($("<a href=\'#\'>" + $("#name").val() + "</a>"));
                          var date = new Date();
                          var Year = date.getFullYear();
                            var Month = date.getMonth();
                            var Day = date.getDate();
                            var Hour = date.getHours();
                            var Minutes = date.getMinutes();
                            var Seconds = date.getSeconds();
                          heading.append($("<small>" + Year + "-" + (Month + 1) + "-" + Day + " " + Hour + ":" + Minutes + ":" + Seconds + "</small>"));
                          var content = $("<p>" + $("#comment").val() + "<a href=\'\' class=\'reply_link\'><span class=\'icon-back-7\'></span></a></p>");
                          
                          cloud.append(heading).append(content);
                          body.append(cloud);
                          media.append(body);
                          $("#add-comment").before(media);
                          $("#name").val("");
                          $("#comment").val("");
                          $("#result").val("");
                          
                          var randomNumberOne = Math.floor(Math.random() * (10 - 1 + 1)) + 1;
		                    var randomNumberTwo = Math.floor(Math.random() * (10 - 1 + 1)) + 1;
		                    window.multiplic = randomNumberOne*randomNumberTwo;
		                    $("#number1").text(randomNumberOne);
		                    $("#number2").text(randomNumberTwo);
		                    
                          var currentNumber = parseInt($("#num-com").text(), 10);
                          currentNumber = currentNumber + 1;
                            if((currentNumber == 1) || (currentNumber % 10 == 1)){
                                $("#word").text("комментарий");
                            }else if(((currentNumber >= 2) && (currentNumber <= 4)) ||
                                        ((currentNumber % 20 >= 2) && (currentNumber % 20 <= 4))){
                                $("#word").text("комментария");
                            }else if(((currentNumber >= 5) && (currentNumber <= 20)) || (data.length % 20 == 0)){
                                $("#word").text("комментарев");
                            }
                            $("#comments").text(currentNumber);
                            $("#num-com").text(currentNumber);
	                },
	                error: function(){
	                    alert("error");
	                }
	            });
    		}else{
    		    document.getElementById("result").style.color = "red";
    		    document.getElementById("result").value = "Неа!";
    		}
		}
		
		function main(){
		    var randomNumberOne = Math.floor(Math.random() * (10 - 1 + 1)) + 1;
		    var randomNumberTwo = Math.floor(Math.random() * (10 - 1 + 1)) + 1;
		    window.multiplic = randomNumberOne*randomNumberTwo;
		    document.getElementById("number1").innerHTML = randomNumberOne;
		    document.getElementById("number2").innerHTML = randomNumberTwo;
		    
			document.getElementById("name").addEventListener("blur", function(){
				if(this.value === ""){
					Invalid(this);
				}else if(ContainNumber(this.value) !== 0){
					Invalid(this, 1);
				}else if((document.getElementById("comment").style.color != "red") &&
				        (document.getElementById("result").value !== "") &&
				        (document.getElementById("comment").value !== "") &&
				        (document.getElementById("result").style.color != "red")){
					Valid();
				}
			});
			document.getElementById("comment").addEventListener("blur", function(){
				if(this.value === ""){
					Invalid(this);
				}else if(document.getElementById("name").style.color != "red"){
					Valid();
				}
			});
			
	        document.getElementById("name").addEventListener("focus", function(){
				if(this.style.color === "red"){
					Reset(this);
				}
				if((document.getElementById("comment").style.color !== "red") &&
				    this.value !== ""){
					Valid();
				}
			});
			document.getElementById("result").addEventListener("focus", function(){
					Reset(this);
			});
			document.getElementById("comment").addEventListener("focus", function(){
				if(this.style.color === "red"){
					Reset(this);
				}
				if((document.getElementById("name").style.color !== "red") &&
				    (this.value !== "") &&
				    (document.getElementById("result").value == "")){
					Valid();
				}
			});
		}
  </script>',
    '[[pdoMenu?
                    &parents=`0`
                    &level=`1`
                ]]' => '<ul class=""><li class="first"><a href="index.php?id=1" >Главная</a></li><li><a href="index.php?id=2" >Закаливание</a></li><li><a href="index.php?id=3" >Программирование</a></li><li><a href="index.php?id=5" >Паркур</a></li><li class="last active"><a href="index.php?id=8" >Бег</a></li></ul>',
    '[[dateRU? &MyDate=`20 January 2017`]]' => '20 января 2017',
    '[[dateRU? &MyDate=`23 January 2017`]]' => '23 января 2017',
    '[[dateRU? &MyDate=`19 January 2017`]]' => '19 января 2017',
    '[[dateRU? &MyDate=`01 February 2017`]]' => '01 февраля 2017',
    '[[dateRU? &MyDate=`04 February 2017`]]' => '04 февраля 2017',
    '[[pdoResources?
                        &parents=`2, 3, 4, 5`
                        &limit=`5`
                        &tpl=`small-list`
                        &sortbyTV=`HitsPage`
                        &sortdirTV=`DESC`
                        &sortbyTVType=`integer`
                        &includeTVs=`image, HitsPage`
                        ]]' => '<li>
    <a href="index.php?id=47" class="image-thumb">
        <img src="assets/templates/images/hardening/Снимок экрана 2017-01-21 в 9.24.21.png" alt="">
    </a>
    <a class="ssp-title" href="index.php?id=47">Добавьте контраст</a>
    <span class="ssp-price">20 января 2017</span>
</li>
<li>
    <a href="index.php?id=58" class="image-thumb">
        <img src="assets/templates/images/programming/Снимок экрана 2017-01-23 в 19.42.38.png" alt="">
    </a>
    <a class="ssp-title" href="index.php?id=58">Не экономьте на знаниях</a>
    <span class="ssp-price">23 января 2017</span>
</li>
<li>
    <a href="index.php?id=50" class="image-thumb">
        <img src="assets/templates/images/programming/Фото 19.01.17, 15.55.jpg" alt="">
    </a>
    <a class="ssp-title" href="index.php?id=50">Моя первая полноценная программа</a>
    <span class="ssp-price">19 января 2017</span>
</li>
<li>
    <a href="index.php?id=62" class="image-thumb">
        <img src="assets/templates/images/parkour/287-2.jpg" alt="">
    </a>
    <a class="ssp-title" href="index.php?id=62">Есть вещи, которые нельзя купить. Для всего остального есть MasterCard</a>
    <span class="ssp-price">01 февраля 2017</span>
</li>
<li>
    <a href="index.php?id=63" class="image-thumb">
        <img src="assets/templates/images/hardening/Me.jpg" alt="">
    </a>
    <a class="ssp-title" href="index.php?id=63">Закаливание вредит вашему здоровью!</a>
    <span class="ssp-price">04 февраля 2017</span>
</li>',
    '[[dateRU? &MyDate=`06 February 2017`]]' => '06 февраля 2017',
    '[[dateRU? &MyDate=`25 January 2017`]]' => '25 января 2017',
    '[[dateRU? &MyDate=`24 January 2017`]]' => '24 января 2017',
    '[[pdoResources?
                        &parents=`2, 3, 4, 5`
                        &limit=`5`
                        &tpl=`small-list`
                        &sortby=`publishedon`
                        &includeTVs=`image`
                        ]]' => '<li>
    <a href="index.php?id=66" class="image-thumb">
        <img src="assets/templates/images/programming/IMG_0013.JPG" alt="">
    </a>
    <a class="ssp-title" href="index.php?id=66">Друг всегда заплатит за проезд в метро за двоих, предварительно взяв у тебя деньги.</a>
    <span class="ssp-price">06 февраля 2017</span>
</li>
<li>
    <a href="index.php?id=63" class="image-thumb">
        <img src="assets/templates/images/hardening/Me.jpg" alt="">
    </a>
    <a class="ssp-title" href="index.php?id=63">Закаливание вредит вашему здоровью!</a>
    <span class="ssp-price">04 февраля 2017</span>
</li>
<li>
    <a href="index.php?id=62" class="image-thumb">
        <img src="assets/templates/images/parkour/287-2.jpg" alt="">
    </a>
    <a class="ssp-title" href="index.php?id=62">Есть вещи, которые нельзя купить. Для всего остального есть MasterCard</a>
    <span class="ssp-price">01 февраля 2017</span>
</li>
<li>
    <a href="index.php?id=60" class="image-thumb">
        <img src="assets/templates/images/parkour/WP_20170122_14_31_25_Selfie.jpg" alt="">
    </a>
    <a class="ssp-title" href="index.php?id=60">Не подстраивайся под мир, пусть мир подстроится под тебя</a>
    <span class="ssp-price">25 января 2017</span>
</li>
<li>
    <a href="index.php?id=59" class="image-thumb">
        <img src="assets/templates/images/hardening/fd1eab9b9984f7e3da140d4e54cf349c.jpg" alt="">
    </a>
    <a class="ssp-title" href="index.php?id=59">ЖЭС подскажет, когда идти дальше!</a>
    <span class="ssp-price">24 января 2017</span>
</li>',
    '[[$cloud-list]]' => '<div class="widget">
  <h4>Облако тегов</h4>
  <ul class="tags-cloud-list">
    [[!tagLister? &tv=`tags` &tpl=`single-tag-li` &target=`38`]] 
  </ul>
</div>',
    '[[$call-to-action]]' => '<section class="section no-padding">
        <a href="index.php?id=36" class="call-to-action-link background-3 callback" data-fancybox-type="iframe">
          <h4>Если у вас есть вопросы, спрашивайте!<span class="icon-arrow-1-right"></span></h4> </a>
      </section>',
    '[[$footer]]' => '<section class="section no-padding clearfix" style="background-image: -moz-linear-gradient(left, rgba(77,92,178,1) 24%, rgba(68,81,167,1) 100%);
background-image: -webkit-linear-gradient(left, rgba(77,92,178,1) 24%,rgba(68,81,167,1) 100%);
background-image: linear-gradient(90deg, rgba(77,92,178,1) 24%,rgba(68,81,167,1) 100%);
background-image: -o-linear-gradient(left, rgb(77,92,178) 24%, rgb(68,81,167,1) 100%);
background-image: -ms-linear-gradient(left, rgb(77,92,178) 24%, rgb(68,81,167,1) 100%);">
        <!-- COPYRIGHTS START -->
        <section id="copyrights" class="copyrights-center maincolor double-padding transparent-background">
          <div class="container-fluid">
            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
              <ul class="widget-social pull-center">
                <li><a href="https://vk.com/mantovpinets"><span class="icon-vk"></span></a></li>
                <li><a href="https://www.facebook.com/kirill.tovpinec"><span class="icon-facebook"></span></a></li>
                <li><a href="https://twitter.com/KirillTovpinec"><span class="icon-twitter"></span></a></li>
                <li><a href="https://www.linkedin.com/in/kirill-tovpinets-83aa8283?trk=nav_responsive_tab_profile_pic"><span class="icon-linkedin"></span></a></li>
                <li><a href="https://www.instagram.com/kirill_tovpinets/"><span class="icon-instagram"></span></a></li>
              </ul>
              <p class="copyrights-text-custom">Copyrights &#169; 2017 Все права защищены и преследуются автором блога. </p>
            </div>
          </div>
        </section>
        <!-- COPYRIGHTS END -->
      </section>',
    '[[$scripts-single]]' => '<!-- MAIN JS FILES -->
<!-- jQuery & Accessories -->
<!-- Plugins -->
<!-- Jquery UI -->
<script type="text/javascript" src="assets/templates/plugins/jquery/jquery-ui.min.js"></script>
<!-- Bootstrap -->
<script type="text/javascript" src="assets/templates/plugins/bootstrap/bootstrap.min.js"></script>
<!-- Easing Plugin -->
<script type="text/javascript" src="assets/templates/plugins/easing/jquery.easing.min.js"></script>
<!-- Header Plugin -->
<script type="text/javascript" src="assets/templates/plugins/webslide/js/webslidemenu.js"></script>
<!-- Parallax Plugin -->
<script type="text/javascript" src="assets/templates/plugins/parallax/jquery.parallax.min.js"></script>
<!-- Swipebox Plugin -->
<script type="text/javascript" src="assets/templates/plugins/swipebox/js/jquery.swipebox.min.js"></script>
<!-- Smoothscroll Plugin -->
<script type="text/javascript" src="assets/templates/plugins/smoothscroll/smoothscroll.js"></script>
<!-- Sticky Plugin -->
<script type="text/javascript" src="assets/templates/plugins/sticky/jquery.sticky.js"></script>
<!-- Select Plugin -->
<script type="text/javascript" src="assets/templates/plugins/fs.selecter/jquery.fs.selecter.min.js"></script>
<!-- Waypoint Plugin -->
<script type="text/javascript" src="assets/templates/plugins/waypoints/jquery.waypoints.min.js"></script>
<!-- FlickrFeed Plugin -->
<script type="text/javascript" src="assets/templates/plugins/jflickrfeed/jflickrfeed.min.js"></script>
<!-- Dribbble Plugin -->
<script type="text/javascript" src="assets/templates/plugins/jribbble/jribbble.min.js"></script>
<!-- Twitter Plugin -->
<script type="text/javascript" src="assets/templates/plugins/tweetie/tweetie.min.js"></script>
<!-- Validator Plugin -->
<script type="text/javascript" src="assets/templates/plugins/bootstrap-validator/js/validator.min.js"></script>
<!-- Material Kit Plugin -->
<script type="text/javascript" src="assets/templates/plugins/materialKit/material.min.js"></script>
<script type="text/javascript" src="assets/templates/plugins/materialKit/material-kit.js"></script>
<!-- Selection Sharer -->
<script type="text/javascript" src="assets/templates/plugins/selection-sharer/dist/selection-sharer.js"></script>
<script type="text/javascript" src="assets/templates/fancybox/source/jquery.fancybox.pack.js"></script>
<script>
  (function(d, s, id)
  {
    var js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return;
    js = d.createElement(s);
    js.id = id;
    js.src =assets/templates/ "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.5&appId=696154480488350";
    fjs.parentNode.insertBefore(js, fjs);
  }(document, \'script\', \'facebook-jssdk\'));
</script>
<script>
        
        $(document).ready(function(){
            
            $(\'.callback\').fancybox({
        		maxWidth	: 800,
        		maxHeight	: 600,
        		fitToView	: false,
        		width		: \'70%\',
        		height		: \'70%\',
        		autoSize	: false,
        		closeClick	: false,
        		openEffect	: \'fade\',
        		closeEffect	: \'fade\'
        	});
        });
        
      </script>
<!-- Theme Functions -->
<script type="text/javascript" src="assets/templates/js/theme.functions.js"></script>
<!-- Social Widgets Config -->
<script type="text/javascript" src="assets/templates/js/social-widgets-config.js"></script>',
  ),
  'sourceCache' => 
  array (
    'modChunk' => 
    array (
      'includes-single' => 
      array (
        'fields' => 
        array (
          'id' => 10,
          'source' => 1,
          'property_preprocess' => false,
          'name' => 'includes-single',
          'description' => '',
          'editor_type' => 0,
          'category' => 11,
          'cache_type' => 0,
          'snippet' => '<title>[[*pagetitle]]</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="initial-scale=1.0,user-scalable=no,maximum-scale=1">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="HandheldFriendly" content="True">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="keywords" content="premium html, themeforest templates, html5 template,agency, bootstrap, business, construction template, corporate, event, premium landing pages, magazine theme, medical website, portfoli , shop, travel, wedding">
    <meta charset="UTF-8">
    <!-- ================= Favicon ================== -->
    <!-- Standard -->
    <link rel="shortcut icon" href="assets/templates/images/icon.ico">
    <!-- Retina iPad Touch Icon-->
    <link rel="apple-touch-icon" sizes="144x144" href="assets/templates/images/favicon-retina-ipad.png">
    <!-- Retina iPhone Touch Icon-->
    <link rel="apple-touch-icon" sizes="114x114" href="assets/templates/images/favicon-retina-iphone.png">
    <!-- Standard iPad Touch Icon-->
    <link rel="apple-touch-icon" sizes="72x72" href="assets/templates/images/favicon-standard-ipad.png">
    <!-- Standard iPhone Touch Icon-->
    <link rel="apple-touch-icon" sizes="57x57" href="assets/templates/images/favicon-standard-iphone.png">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
    <!-- MAIN CSS FILES -->
    <!-- Plugins CSS -->
    <!-- Bootstrap -->
    <link href="assets/templates/plugins/bootstrap/bootstrap.min.css" rel="stylesheet" media="screen">
    <!-- SwipeBox -->
    <link href="assets/templates/plugins/swipebox/css/swipebox.min.css" rel="stylesheet">
    <!-- Animated Headline -->
    <link href="assets/templates/plugins/animated-headline/css/animated-headline.css" rel="stylesheet">
    <!-- Selecter -->
    <link href="assets/templates/plugins/fs.selecter/jquery.fs.selecter.min.css" rel="stylesheet">
    <!-- Animate -->
    <link href="assets/templates/plugins/animate/animate.min.css" rel="stylesheet">
    <!-- Ion Icons -->
    <link href="assets/templates/icon-fonts/icons.css" rel="stylesheet">
    <!-- Mouse Move Plugin -->
    <link rel="stylesheet" href="assets/templates/plugins/mouseMove3DPlugin/perspectiveRules.css" />
    <!-- Slick -->
    <link href="assets/templates/plugins/slick/slick.css" rel="stylesheet">
    <link href="assets/templates/plugins/slick/slick-theme.css" rel="stylesheet">
    <!-- 3D Progress bar Plugin -->
    <link rel="stylesheet" href="assets/templates/plugins/3Dprogressbars/component.css" />
    <link rel="stylesheet" href="assets/templates/plugins/3Dprogressbars/custom-bars.css" />
    <!-- Step Proccess CSS -->
    <link href="assets/templates/plugins/timonStepForm/css/gsi-step-indicator.min.css" rel="stylesheet">
    <link href="assets/templates/plugins/timonStepForm/css/tsf-step-form-wizard.min.css" rel="stylesheet">
    <!-- Flatpickr CSS -->
    <link rel="stylesheet" href="assets/templates/plugins/flatpickr/flatpickr.min.css" />
    <!-- Web Slide Menu CSS -->
    <link rel="stylesheet" href="assets/templates/plugins/webslide/css/webslidemenu.css" media="screen" />
    <link rel="stylesheet" href="assets/templates/plugins/webslide/css/color-theme.css" media="screen" />
    <!-- Selection Sharer -->
    <link href="assets/templates/plugins/selection-sharer/dist/selection-sharer.css" rel="stylesheet">
    <!-- Style Sheets -->
    <link href="assets/templates/css/style.css" rel="stylesheet" media="screen">
    <link href="assets/templates/css/header.css" rel="stylesheet" media="screen">
    <link href="assets/templates/css/shortcodes.css" rel="stylesheet" media="screen">
    <link href="assets/templates/css/portfolio.css" rel="stylesheet" media="screen">
    <link href="assets/templates/css/blog.css" rel="stylesheet" media="screen">
    <link href="assets/templates/css/footer.css" rel="stylesheet">
    <link href="assets/templates/css/shop.css" rel="stylesheet">
    <link href="assets/templates/css/responsive.css" rel="stylesheet">
    <link href="assets/templates/css/templates/main-color.css" rel="stylesheet">
    <link rel="stylesheet" href="assets/templates/fancybox/source/jquery.fancybox.css" type="text/css" media="screen">
    <!-- End Style Sheets -->
    <script src="assets/templates/js/jquery-1.12.4.min.js"></script>
    <!-- MAIN CSS FILES -->',
          'locked' => false,
          'properties' => 
          array (
          ),
          'static' => false,
          'static_file' => '',
          'content' => '<title>[[*pagetitle]]</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="initial-scale=1.0,user-scalable=no,maximum-scale=1">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="HandheldFriendly" content="True">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="keywords" content="premium html, themeforest templates, html5 template,agency, bootstrap, business, construction template, corporate, event, premium landing pages, magazine theme, medical website, portfoli , shop, travel, wedding">
    <meta charset="UTF-8">
    <!-- ================= Favicon ================== -->
    <!-- Standard -->
    <link rel="shortcut icon" href="assets/templates/images/icon.ico">
    <!-- Retina iPad Touch Icon-->
    <link rel="apple-touch-icon" sizes="144x144" href="assets/templates/images/favicon-retina-ipad.png">
    <!-- Retina iPhone Touch Icon-->
    <link rel="apple-touch-icon" sizes="114x114" href="assets/templates/images/favicon-retina-iphone.png">
    <!-- Standard iPad Touch Icon-->
    <link rel="apple-touch-icon" sizes="72x72" href="assets/templates/images/favicon-standard-ipad.png">
    <!-- Standard iPhone Touch Icon-->
    <link rel="apple-touch-icon" sizes="57x57" href="assets/templates/images/favicon-standard-iphone.png">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
    <!-- MAIN CSS FILES -->
    <!-- Plugins CSS -->
    <!-- Bootstrap -->
    <link href="assets/templates/plugins/bootstrap/bootstrap.min.css" rel="stylesheet" media="screen">
    <!-- SwipeBox -->
    <link href="assets/templates/plugins/swipebox/css/swipebox.min.css" rel="stylesheet">
    <!-- Animated Headline -->
    <link href="assets/templates/plugins/animated-headline/css/animated-headline.css" rel="stylesheet">
    <!-- Selecter -->
    <link href="assets/templates/plugins/fs.selecter/jquery.fs.selecter.min.css" rel="stylesheet">
    <!-- Animate -->
    <link href="assets/templates/plugins/animate/animate.min.css" rel="stylesheet">
    <!-- Ion Icons -->
    <link href="assets/templates/icon-fonts/icons.css" rel="stylesheet">
    <!-- Mouse Move Plugin -->
    <link rel="stylesheet" href="assets/templates/plugins/mouseMove3DPlugin/perspectiveRules.css" />
    <!-- Slick -->
    <link href="assets/templates/plugins/slick/slick.css" rel="stylesheet">
    <link href="assets/templates/plugins/slick/slick-theme.css" rel="stylesheet">
    <!-- 3D Progress bar Plugin -->
    <link rel="stylesheet" href="assets/templates/plugins/3Dprogressbars/component.css" />
    <link rel="stylesheet" href="assets/templates/plugins/3Dprogressbars/custom-bars.css" />
    <!-- Step Proccess CSS -->
    <link href="assets/templates/plugins/timonStepForm/css/gsi-step-indicator.min.css" rel="stylesheet">
    <link href="assets/templates/plugins/timonStepForm/css/tsf-step-form-wizard.min.css" rel="stylesheet">
    <!-- Flatpickr CSS -->
    <link rel="stylesheet" href="assets/templates/plugins/flatpickr/flatpickr.min.css" />
    <!-- Web Slide Menu CSS -->
    <link rel="stylesheet" href="assets/templates/plugins/webslide/css/webslidemenu.css" media="screen" />
    <link rel="stylesheet" href="assets/templates/plugins/webslide/css/color-theme.css" media="screen" />
    <!-- Selection Sharer -->
    <link href="assets/templates/plugins/selection-sharer/dist/selection-sharer.css" rel="stylesheet">
    <!-- Style Sheets -->
    <link href="assets/templates/css/style.css" rel="stylesheet" media="screen">
    <link href="assets/templates/css/header.css" rel="stylesheet" media="screen">
    <link href="assets/templates/css/shortcodes.css" rel="stylesheet" media="screen">
    <link href="assets/templates/css/portfolio.css" rel="stylesheet" media="screen">
    <link href="assets/templates/css/blog.css" rel="stylesheet" media="screen">
    <link href="assets/templates/css/footer.css" rel="stylesheet">
    <link href="assets/templates/css/shop.css" rel="stylesheet">
    <link href="assets/templates/css/responsive.css" rel="stylesheet">
    <link href="assets/templates/css/templates/main-color.css" rel="stylesheet">
    <link rel="stylesheet" href="assets/templates/fancybox/source/jquery.fancybox.css" type="text/css" media="screen">
    <!-- End Style Sheets -->
    <script src="assets/templates/js/jquery-1.12.4.min.js"></script>
    <!-- MAIN CSS FILES -->',
        ),
        'policies' => 
        array (
        ),
        'source' => 
        array (
          'id' => 1,
          'name' => 'Filesystem',
          'description' => '',
          'class_key' => 'sources.modFileMediaSource',
          'properties' => 
          array (
          ),
          'is_stream' => true,
        ),
      ),
      'search' => 
      array (
        'fields' => 
        array (
          'id' => 24,
          'source' => 1,
          'property_preprocess' => false,
          'name' => 'search',
          'description' => '',
          'editor_type' => 0,
          'category' => 14,
          'cache_type' => 0,
          'snippet' => '<div class="search-popup-box animated fadeInDown"> 
    <span class="search-popup-close">
        <span class="icon-close"></span>
    </span>
    [[!SimpleSearchForm? &landing=`37` &tpl=`search-mobile`]]
  <!-- <form class="search-form-popup" role="search" action="[[~[[+landing:default=`[[*id]]`]]]]" method="[[+method:default=`get`]]">
    <input type="hidden" name="id" value="[[+landing]]">
    <div class="form-group"> 
        <input type="text" class="form-control" name="[[+searchIndex]]" id="[[+searchIndex]]" value="[[+searchValue]]" placeholder="Введите слово для поиска"> 
        <button type="submit" value="[[%sisea.search? &namespace=`sisea` &topic=`default`]]">
            <span class="icon-magnifier-1"></span>
        </button> 
    </div>
  </form> -->
</div>',
          'locked' => false,
          'properties' => 
          array (
          ),
          'static' => false,
          'static_file' => '',
          'content' => '<div class="search-popup-box animated fadeInDown"> 
    <span class="search-popup-close">
        <span class="icon-close"></span>
    </span>
    [[!SimpleSearchForm? &landing=`37` &tpl=`search-mobile`]]
  <!-- <form class="search-form-popup" role="search" action="[[~[[+landing:default=`[[*id]]`]]]]" method="[[+method:default=`get`]]">
    <input type="hidden" name="id" value="[[+landing]]">
    <div class="form-group"> 
        <input type="text" class="form-control" name="[[+searchIndex]]" id="[[+searchIndex]]" value="[[+searchValue]]" placeholder="Введите слово для поиска"> 
        <button type="submit" value="[[%sisea.search? &namespace=`sisea` &topic=`default`]]">
            <span class="icon-magnifier-1"></span>
        </button> 
    </div>
  </form> -->
</div>',
        ),
        'policies' => 
        array (
        ),
        'source' => 
        array (
          'id' => 1,
          'name' => 'Filesystem',
          'description' => '',
          'class_key' => 'sources.modFileMediaSource',
          'properties' => 
          array (
          ),
          'is_stream' => true,
        ),
      ),
      'mobile-header' => 
      array (
        'fields' => 
        array (
          'id' => 20,
          'source' => 1,
          'property_preprocess' => false,
          'name' => 'mobile-header',
          'description' => '',
          'editor_type' => 0,
          'category' => 14,
          'cache_type' => 0,
          'snippet' => '<div class="wsmobileheader clearfix"> <a id="wsnavtoggle" class="animated-arrow"><span></span></a>
          <a class="brand-modern" href="[[++site_url]]"> <span class="logo-label">Build Yourself</span> </a>
          <div class="search-cart-navbar"> 
          <a class="btn btn-search" href="#"><span class="icon-magnifier-1"></span></a>
          </div>
        </div>',
          'locked' => false,
          'properties' => 
          array (
          ),
          'static' => false,
          'static_file' => '',
          'content' => '<div class="wsmobileheader clearfix"> <a id="wsnavtoggle" class="animated-arrow"><span></span></a>
          <a class="brand-modern" href="[[++site_url]]"> <span class="logo-label">Build Yourself</span> </a>
          <div class="search-cart-navbar"> 
          <a class="btn btn-search" href="#"><span class="icon-magnifier-1"></span></a>
          </div>
        </div>',
        ),
        'policies' => 
        array (
        ),
        'source' => 
        array (
          'id' => 1,
          'name' => 'Filesystem',
          'description' => '',
          'class_key' => 'sources.modFileMediaSource',
          'properties' => 
          array (
          ),
          'is_stream' => true,
        ),
      ),
      'page-nav-list' => 
      array (
        'fields' => 
        array (
          'id' => 8,
          'source' => 1,
          'property_preprocess' => false,
          'name' => 'page-nav-list',
          'description' => '',
          'editor_type' => 0,
          'category' => 10,
          'cache_type' => 0,
          'snippet' => '<nav class="wsmenu clearfix">
  <ul class="mobile-sub wsmenu-list">
    [[pdoMenu?
        &parents=`0`
        &level=`1`
        &tplOuter=`@INLINE <li>[[+wrapper]]</li>`]]
  </ul>
</nav>',
          'locked' => false,
          'properties' => 
          array (
          ),
          'static' => false,
          'static_file' => '',
          'content' => '<nav class="wsmenu clearfix">
  <ul class="mobile-sub wsmenu-list">
    [[pdoMenu?
        &parents=`0`
        &level=`1`
        &tplOuter=`@INLINE <li>[[+wrapper]]</li>`]]
  </ul>
</nav>',
        ),
        'policies' => 
        array (
        ),
        'source' => 
        array (
          'id' => 1,
          'name' => 'Filesystem',
          'description' => '',
          'class_key' => 'sources.modFileMediaSource',
          'properties' => 
          array (
          ),
          'is_stream' => true,
        ),
      ),
      'AddComment' => 
      array (
        'fields' => 
        array (
          'id' => 12,
          'source' => 1,
          'property_preprocess' => false,
          'name' => 'AddComment',
          'description' => '',
          'editor_type' => 0,
          'category' => 0,
          'cache_type' => 0,
          'snippet' => '<form id="add-comment" class="comment-form" action="javascript:void(null);" onsubmit="call()" method="post">
    <h3 id="title">Оставьте Ваш комментарий:</h3>
    <fieldset>
      <div> <label>Ваше имя: <span>*</span></label> <input type="text" name="name" id="name" value=""> </div>
      <div> <label>Комментарий: <span>*</span></label> <textarea name="comment" id="comment" cols="40" rows="3"></textarea> </div>
      <div> 
          <label>Минутка математики. Проверим Вашу таблицу умножения. Сколько будет: <span id="number1"></span>x<span id="number2"></span></label> 
          <input type="text" name="result" id="result" value=""> 
        </div>
    </fieldset> <button type="submit" class="btn btn-xlg btn-default" id="send" disabled>Отправить</button>
    <input type="hidden" name="page_id" value="[[*id]]" />
    <input type="hidden" name="pagetitle" value="[[*pagetitle]]" />
    <div class="clearfix"></div>
    <div class="margin-bottom-20"></div>
  </form>
  <script>
      		window.onload = main();
		function Invalid(element, hasNumber){
			hasNumber = hasNumber || 0;
			element.style.color = "red";
			if(hasNumber){
				element.value = "Проверьте ведённые данные";	
			}else{
				element.value = "Это поле должно быть заполнено";
			}
			document.getElementById("send").disabled = true;
		}
		function Valid(){
			document.getElementById("send").disabled = false;
		}

		function Reset(element){
			element.value = "";
			element.style.color = "#909090";
		}

		function ContainNumber(str){
			return parseInt(str.replace(/\\D/g, \'\')) || 0;
		}
		function call(){
		    if(document.getElementById("result").value == window.multiplic){
	            var comment = $(\'#add-comment\').serialize();
	            $.ajax({
	                type: \'POST\',
	                url: "assets/write_comment.php",
	                data: comment,
	                success: function(data){
	                       var media = $("<div class=\'media\'></div>")
                          var imgLink = $("<a class=\'pull-left\' href=\'#\'></a>")
                          var img = $("<img src=\'assets/templates/images/user.png\' class=\'media-object\' alt=\'\'>");
                          media.append(imgLink.append(img));
                          
                          var body = $("<div class=\'media-body\'>");
                          var cloud = $("<div class=\'media_cloud\'></div>");
                          var heading = $("<h6 class=\'media-heading\'></h6>");
                          heading.append($("<a href=\'#\'>" + $("#name").val() + "</a>"));
                          var date = new Date();
                          var Year = date.getFullYear();
                            var Month = date.getMonth();
                            var Day = date.getDate();
                            var Hour = date.getHours();
                            var Minutes = date.getMinutes();
                            var Seconds = date.getSeconds();
                          heading.append($("<small>" + Year + "-" + (Month + 1) + "-" + Day + " " + Hour + ":" + Minutes + ":" + Seconds + "</small>"));
                          var content = $("<p>" + $("#comment").val() + "<a href=\'\' class=\'reply_link\'><span class=\'icon-back-7\'></span></a></p>");
                          
                          cloud.append(heading).append(content);
                          body.append(cloud);
                          media.append(body);
                          $("#add-comment").before(media);
                          $("#name").val("");
                          $("#comment").val("");
                          $("#result").val("");
                          
                          var randomNumberOne = Math.floor(Math.random() * (10 - 1 + 1)) + 1;
		                    var randomNumberTwo = Math.floor(Math.random() * (10 - 1 + 1)) + 1;
		                    window.multiplic = randomNumberOne*randomNumberTwo;
		                    $("#number1").text(randomNumberOne);
		                    $("#number2").text(randomNumberTwo);
		                    
                          var currentNumber = parseInt($("#num-com").text(), 10);
                          currentNumber = currentNumber + 1;
                            if((currentNumber == 1) || (currentNumber % 10 == 1)){
                                $("#word").text("комментарий");
                            }else if(((currentNumber >= 2) && (currentNumber <= 4)) ||
                                        ((currentNumber % 20 >= 2) && (currentNumber % 20 <= 4))){
                                $("#word").text("комментария");
                            }else if(((currentNumber >= 5) && (currentNumber <= 20)) || (data.length % 20 == 0)){
                                $("#word").text("комментарев");
                            }
                            $("#comments").text(currentNumber);
                            $("#num-com").text(currentNumber);
	                },
	                error: function(){
	                    alert("error");
	                }
	            });
    		}else{
    		    document.getElementById("result").style.color = "red";
    		    document.getElementById("result").value = "Неа!";
    		}
		}
		
		function main(){
		    var randomNumberOne = Math.floor(Math.random() * (10 - 1 + 1)) + 1;
		    var randomNumberTwo = Math.floor(Math.random() * (10 - 1 + 1)) + 1;
		    window.multiplic = randomNumberOne*randomNumberTwo;
		    document.getElementById("number1").innerHTML = randomNumberOne;
		    document.getElementById("number2").innerHTML = randomNumberTwo;
		    
			document.getElementById("name").addEventListener("blur", function(){
				if(this.value === ""){
					Invalid(this);
				}else if(ContainNumber(this.value) !== 0){
					Invalid(this, 1);
				}else if((document.getElementById("comment").style.color != "red") &&
				        (document.getElementById("result").value !== "") &&
				        (document.getElementById("comment").value !== "") &&
				        (document.getElementById("result").style.color != "red")){
					Valid();
				}
			});
			document.getElementById("comment").addEventListener("blur", function(){
				if(this.value === ""){
					Invalid(this);
				}else if(document.getElementById("name").style.color != "red"){
					Valid();
				}
			});
			
	        document.getElementById("name").addEventListener("focus", function(){
				if(this.style.color === "red"){
					Reset(this);
				}
				if((document.getElementById("comment").style.color !== "red") &&
				    this.value !== ""){
					Valid();
				}
			});
			document.getElementById("result").addEventListener("focus", function(){
					Reset(this);
			});
			document.getElementById("comment").addEventListener("focus", function(){
				if(this.style.color === "red"){
					Reset(this);
				}
				if((document.getElementById("name").style.color !== "red") &&
				    (this.value !== "") &&
				    (document.getElementById("result").value == "")){
					Valid();
				}
			});
		}
  </script>',
          'locked' => false,
          'properties' => 
          array (
          ),
          'static' => false,
          'static_file' => '',
          'content' => '<form id="add-comment" class="comment-form" action="javascript:void(null);" onsubmit="call()" method="post">
    <h3 id="title">Оставьте Ваш комментарий:</h3>
    <fieldset>
      <div> <label>Ваше имя: <span>*</span></label> <input type="text" name="name" id="name" value=""> </div>
      <div> <label>Комментарий: <span>*</span></label> <textarea name="comment" id="comment" cols="40" rows="3"></textarea> </div>
      <div> 
          <label>Минутка математики. Проверим Вашу таблицу умножения. Сколько будет: <span id="number1"></span>x<span id="number2"></span></label> 
          <input type="text" name="result" id="result" value=""> 
        </div>
    </fieldset> <button type="submit" class="btn btn-xlg btn-default" id="send" disabled>Отправить</button>
    <input type="hidden" name="page_id" value="[[*id]]" />
    <input type="hidden" name="pagetitle" value="[[*pagetitle]]" />
    <div class="clearfix"></div>
    <div class="margin-bottom-20"></div>
  </form>
  <script>
      		window.onload = main();
		function Invalid(element, hasNumber){
			hasNumber = hasNumber || 0;
			element.style.color = "red";
			if(hasNumber){
				element.value = "Проверьте ведённые данные";	
			}else{
				element.value = "Это поле должно быть заполнено";
			}
			document.getElementById("send").disabled = true;
		}
		function Valid(){
			document.getElementById("send").disabled = false;
		}

		function Reset(element){
			element.value = "";
			element.style.color = "#909090";
		}

		function ContainNumber(str){
			return parseInt(str.replace(/\\D/g, \'\')) || 0;
		}
		function call(){
		    if(document.getElementById("result").value == window.multiplic){
	            var comment = $(\'#add-comment\').serialize();
	            $.ajax({
	                type: \'POST\',
	                url: "assets/write_comment.php",
	                data: comment,
	                success: function(data){
	                       var media = $("<div class=\'media\'></div>")
                          var imgLink = $("<a class=\'pull-left\' href=\'#\'></a>")
                          var img = $("<img src=\'assets/templates/images/user.png\' class=\'media-object\' alt=\'\'>");
                          media.append(imgLink.append(img));
                          
                          var body = $("<div class=\'media-body\'>");
                          var cloud = $("<div class=\'media_cloud\'></div>");
                          var heading = $("<h6 class=\'media-heading\'></h6>");
                          heading.append($("<a href=\'#\'>" + $("#name").val() + "</a>"));
                          var date = new Date();
                          var Year = date.getFullYear();
                            var Month = date.getMonth();
                            var Day = date.getDate();
                            var Hour = date.getHours();
                            var Minutes = date.getMinutes();
                            var Seconds = date.getSeconds();
                          heading.append($("<small>" + Year + "-" + (Month + 1) + "-" + Day + " " + Hour + ":" + Minutes + ":" + Seconds + "</small>"));
                          var content = $("<p>" + $("#comment").val() + "<a href=\'\' class=\'reply_link\'><span class=\'icon-back-7\'></span></a></p>");
                          
                          cloud.append(heading).append(content);
                          body.append(cloud);
                          media.append(body);
                          $("#add-comment").before(media);
                          $("#name").val("");
                          $("#comment").val("");
                          $("#result").val("");
                          
                          var randomNumberOne = Math.floor(Math.random() * (10 - 1 + 1)) + 1;
		                    var randomNumberTwo = Math.floor(Math.random() * (10 - 1 + 1)) + 1;
		                    window.multiplic = randomNumberOne*randomNumberTwo;
		                    $("#number1").text(randomNumberOne);
		                    $("#number2").text(randomNumberTwo);
		                    
                          var currentNumber = parseInt($("#num-com").text(), 10);
                          currentNumber = currentNumber + 1;
                            if((currentNumber == 1) || (currentNumber % 10 == 1)){
                                $("#word").text("комментарий");
                            }else if(((currentNumber >= 2) && (currentNumber <= 4)) ||
                                        ((currentNumber % 20 >= 2) && (currentNumber % 20 <= 4))){
                                $("#word").text("комментария");
                            }else if(((currentNumber >= 5) && (currentNumber <= 20)) || (data.length % 20 == 0)){
                                $("#word").text("комментарев");
                            }
                            $("#comments").text(currentNumber);
                            $("#num-com").text(currentNumber);
	                },
	                error: function(){
	                    alert("error");
	                }
	            });
    		}else{
    		    document.getElementById("result").style.color = "red";
    		    document.getElementById("result").value = "Неа!";
    		}
		}
		
		function main(){
		    var randomNumberOne = Math.floor(Math.random() * (10 - 1 + 1)) + 1;
		    var randomNumberTwo = Math.floor(Math.random() * (10 - 1 + 1)) + 1;
		    window.multiplic = randomNumberOne*randomNumberTwo;
		    document.getElementById("number1").innerHTML = randomNumberOne;
		    document.getElementById("number2").innerHTML = randomNumberTwo;
		    
			document.getElementById("name").addEventListener("blur", function(){
				if(this.value === ""){
					Invalid(this);
				}else if(ContainNumber(this.value) !== 0){
					Invalid(this, 1);
				}else if((document.getElementById("comment").style.color != "red") &&
				        (document.getElementById("result").value !== "") &&
				        (document.getElementById("comment").value !== "") &&
				        (document.getElementById("result").style.color != "red")){
					Valid();
				}
			});
			document.getElementById("comment").addEventListener("blur", function(){
				if(this.value === ""){
					Invalid(this);
				}else if(document.getElementById("name").style.color != "red"){
					Valid();
				}
			});
			
	        document.getElementById("name").addEventListener("focus", function(){
				if(this.style.color === "red"){
					Reset(this);
				}
				if((document.getElementById("comment").style.color !== "red") &&
				    this.value !== ""){
					Valid();
				}
			});
			document.getElementById("result").addEventListener("focus", function(){
					Reset(this);
			});
			document.getElementById("comment").addEventListener("focus", function(){
				if(this.style.color === "red"){
					Reset(this);
				}
				if((document.getElementById("name").style.color !== "red") &&
				    (this.value !== "") &&
				    (document.getElementById("result").value == "")){
					Valid();
				}
			});
		}
  </script>',
        ),
        'policies' => 
        array (
        ),
        'source' => 
        array (
          'id' => 1,
          'name' => 'Filesystem',
          'description' => '',
          'class_key' => 'sources.modFileMediaSource',
          'properties' => 
          array (
          ),
          'is_stream' => true,
        ),
      ),
      'cloud-list' => 
      array (
        'fields' => 
        array (
          'id' => 16,
          'source' => 1,
          'property_preprocess' => false,
          'name' => 'cloud-list',
          'description' => '',
          'editor_type' => 0,
          'category' => 0,
          'cache_type' => 0,
          'snippet' => '<div class="widget">
  <h4>Облако тегов</h4>
  <ul class="tags-cloud-list">
    [[!tagLister? &tv=`tags` &tpl=`single-tag-li` &target=`38`]] 
  </ul>
</div>',
          'locked' => false,
          'properties' => 
          array (
          ),
          'static' => false,
          'static_file' => '',
          'content' => '<div class="widget">
  <h4>Облако тегов</h4>
  <ul class="tags-cloud-list">
    [[!tagLister? &tv=`tags` &tpl=`single-tag-li` &target=`38`]] 
  </ul>
</div>',
        ),
        'policies' => 
        array (
        ),
        'source' => 
        array (
          'id' => 1,
          'name' => 'Filesystem',
          'description' => '',
          'class_key' => 'sources.modFileMediaSource',
          'properties' => 
          array (
          ),
          'is_stream' => true,
        ),
      ),
      'call-to-action' => 
      array (
        'fields' => 
        array (
          'id' => 15,
          'source' => 1,
          'property_preprocess' => false,
          'name' => 'call-to-action',
          'description' => '',
          'editor_type' => 0,
          'category' => 0,
          'cache_type' => 0,
          'snippet' => '<section class="section no-padding">
        <a href="[[~36]]" class="call-to-action-link background-3 callback" data-fancybox-type="iframe">
          <h4>Если у вас есть вопросы, спрашивайте!<span class="icon-arrow-1-right"></span></h4> </a>
      </section>',
          'locked' => false,
          'properties' => 
          array (
          ),
          'static' => false,
          'static_file' => '',
          'content' => '<section class="section no-padding">
        <a href="[[~36]]" class="call-to-action-link background-3 callback" data-fancybox-type="iframe">
          <h4>Если у вас есть вопросы, спрашивайте!<span class="icon-arrow-1-right"></span></h4> </a>
      </section>',
        ),
        'policies' => 
        array (
        ),
        'source' => 
        array (
          'id' => 1,
          'name' => 'Filesystem',
          'description' => '',
          'class_key' => 'sources.modFileMediaSource',
          'properties' => 
          array (
          ),
          'is_stream' => true,
        ),
      ),
      'footer' => 
      array (
        'fields' => 
        array (
          'id' => 18,
          'source' => 1,
          'property_preprocess' => false,
          'name' => 'footer',
          'description' => '',
          'editor_type' => 0,
          'category' => 0,
          'cache_type' => 0,
          'snippet' => '<section class="section no-padding clearfix" style="background-image: -moz-linear-gradient(left, rgba(77,92,178,1) 24%, rgba(68,81,167,1) 100%);
background-image: -webkit-linear-gradient(left, rgba(77,92,178,1) 24%,rgba(68,81,167,1) 100%);
background-image: linear-gradient(90deg, rgba(77,92,178,1) 24%,rgba(68,81,167,1) 100%);
background-image: -o-linear-gradient(left, rgb(77,92,178) 24%, rgb(68,81,167,1) 100%);
background-image: -ms-linear-gradient(left, rgb(77,92,178) 24%, rgb(68,81,167,1) 100%);">
        <!-- COPYRIGHTS START -->
        <section id="copyrights" class="copyrights-center maincolor double-padding transparent-background">
          <div class="container-fluid">
            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
              <ul class="widget-social pull-center">
                <li><a href="https://vk.com/mantovpinets"><span class="icon-vk"></span></a></li>
                <li><a href="https://www.facebook.com/kirill.tovpinec"><span class="icon-facebook"></span></a></li>
                <li><a href="https://twitter.com/KirillTovpinec"><span class="icon-twitter"></span></a></li>
                <li><a href="https://www.linkedin.com/in/kirill-tovpinets-83aa8283?trk=nav_responsive_tab_profile_pic"><span class="icon-linkedin"></span></a></li>
                <li><a href="https://www.instagram.com/kirill_tovpinets/"><span class="icon-instagram"></span></a></li>
              </ul>
              <p class="copyrights-text-custom">Copyrights &#169; 2017 Все права защищены и преследуются автором блога. </p>
            </div>
          </div>
        </section>
        <!-- COPYRIGHTS END -->
      </section>',
          'locked' => false,
          'properties' => 
          array (
          ),
          'static' => false,
          'static_file' => '',
          'content' => '<section class="section no-padding clearfix" style="background-image: -moz-linear-gradient(left, rgba(77,92,178,1) 24%, rgba(68,81,167,1) 100%);
background-image: -webkit-linear-gradient(left, rgba(77,92,178,1) 24%,rgba(68,81,167,1) 100%);
background-image: linear-gradient(90deg, rgba(77,92,178,1) 24%,rgba(68,81,167,1) 100%);
background-image: -o-linear-gradient(left, rgb(77,92,178) 24%, rgb(68,81,167,1) 100%);
background-image: -ms-linear-gradient(left, rgb(77,92,178) 24%, rgb(68,81,167,1) 100%);">
        <!-- COPYRIGHTS START -->
        <section id="copyrights" class="copyrights-center maincolor double-padding transparent-background">
          <div class="container-fluid">
            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
              <ul class="widget-social pull-center">
                <li><a href="https://vk.com/mantovpinets"><span class="icon-vk"></span></a></li>
                <li><a href="https://www.facebook.com/kirill.tovpinec"><span class="icon-facebook"></span></a></li>
                <li><a href="https://twitter.com/KirillTovpinec"><span class="icon-twitter"></span></a></li>
                <li><a href="https://www.linkedin.com/in/kirill-tovpinets-83aa8283?trk=nav_responsive_tab_profile_pic"><span class="icon-linkedin"></span></a></li>
                <li><a href="https://www.instagram.com/kirill_tovpinets/"><span class="icon-instagram"></span></a></li>
              </ul>
              <p class="copyrights-text-custom">Copyrights &#169; 2017 Все права защищены и преследуются автором блога. </p>
            </div>
          </div>
        </section>
        <!-- COPYRIGHTS END -->
      </section>',
        ),
        'policies' => 
        array (
        ),
        'source' => 
        array (
          'id' => 1,
          'name' => 'Filesystem',
          'description' => '',
          'class_key' => 'sources.modFileMediaSource',
          'properties' => 
          array (
          ),
          'is_stream' => true,
        ),
      ),
      'scripts-single' => 
      array (
        'fields' => 
        array (
          'id' => 11,
          'source' => 1,
          'property_preprocess' => false,
          'name' => 'scripts-single',
          'description' => '',
          'editor_type' => 0,
          'category' => 11,
          'cache_type' => 0,
          'snippet' => '<!-- MAIN JS FILES -->
<!-- jQuery & Accessories -->
<!-- Plugins -->
<!-- Jquery UI -->
<script type="text/javascript" src="assets/templates/plugins/jquery/jquery-ui.min.js"></script>
<!-- Bootstrap -->
<script type="text/javascript" src="assets/templates/plugins/bootstrap/bootstrap.min.js"></script>
<!-- Easing Plugin -->
<script type="text/javascript" src="assets/templates/plugins/easing/jquery.easing.min.js"></script>
<!-- Header Plugin -->
<script type="text/javascript" src="assets/templates/plugins/webslide/js/webslidemenu.js"></script>
<!-- Parallax Plugin -->
<script type="text/javascript" src="assets/templates/plugins/parallax/jquery.parallax.min.js"></script>
<!-- Swipebox Plugin -->
<script type="text/javascript" src="assets/templates/plugins/swipebox/js/jquery.swipebox.min.js"></script>
<!-- Smoothscroll Plugin -->
<script type="text/javascript" src="assets/templates/plugins/smoothscroll/smoothscroll.js"></script>
<!-- Sticky Plugin -->
<script type="text/javascript" src="assets/templates/plugins/sticky/jquery.sticky.js"></script>
<!-- Select Plugin -->
<script type="text/javascript" src="assets/templates/plugins/fs.selecter/jquery.fs.selecter.min.js"></script>
<!-- Waypoint Plugin -->
<script type="text/javascript" src="assets/templates/plugins/waypoints/jquery.waypoints.min.js"></script>
<!-- FlickrFeed Plugin -->
<script type="text/javascript" src="assets/templates/plugins/jflickrfeed/jflickrfeed.min.js"></script>
<!-- Dribbble Plugin -->
<script type="text/javascript" src="assets/templates/plugins/jribbble/jribbble.min.js"></script>
<!-- Twitter Plugin -->
<script type="text/javascript" src="assets/templates/plugins/tweetie/tweetie.min.js"></script>
<!-- Validator Plugin -->
<script type="text/javascript" src="assets/templates/plugins/bootstrap-validator/js/validator.min.js"></script>
<!-- Material Kit Plugin -->
<script type="text/javascript" src="assets/templates/plugins/materialKit/material.min.js"></script>
<script type="text/javascript" src="assets/templates/plugins/materialKit/material-kit.js"></script>
<!-- Selection Sharer -->
<script type="text/javascript" src="assets/templates/plugins/selection-sharer/dist/selection-sharer.js"></script>
<script type="text/javascript" src="assets/templates/fancybox/source/jquery.fancybox.pack.js"></script>
<script>
  (function(d, s, id)
  {
    var js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return;
    js = d.createElement(s);
    js.id = id;
    js.src =assets/templates/ "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.5&appId=696154480488350";
    fjs.parentNode.insertBefore(js, fjs);
  }(document, \'script\', \'facebook-jssdk\'));
</script>
<script>
        
        $(document).ready(function(){
            
            $(\'.callback\').fancybox({
        		maxWidth	: 800,
        		maxHeight	: 600,
        		fitToView	: false,
        		width		: \'70%\',
        		height		: \'70%\',
        		autoSize	: false,
        		closeClick	: false,
        		openEffect	: \'fade\',
        		closeEffect	: \'fade\'
        	});
        });
        
      </script>
<!-- Theme Functions -->
<script type="text/javascript" src="assets/templates/js/theme.functions.js"></script>
<!-- Social Widgets Config -->
<script type="text/javascript" src="assets/templates/js/social-widgets-config.js"></script>',
          'locked' => false,
          'properties' => 
          array (
          ),
          'static' => false,
          'static_file' => '',
          'content' => '<!-- MAIN JS FILES -->
<!-- jQuery & Accessories -->
<!-- Plugins -->
<!-- Jquery UI -->
<script type="text/javascript" src="assets/templates/plugins/jquery/jquery-ui.min.js"></script>
<!-- Bootstrap -->
<script type="text/javascript" src="assets/templates/plugins/bootstrap/bootstrap.min.js"></script>
<!-- Easing Plugin -->
<script type="text/javascript" src="assets/templates/plugins/easing/jquery.easing.min.js"></script>
<!-- Header Plugin -->
<script type="text/javascript" src="assets/templates/plugins/webslide/js/webslidemenu.js"></script>
<!-- Parallax Plugin -->
<script type="text/javascript" src="assets/templates/plugins/parallax/jquery.parallax.min.js"></script>
<!-- Swipebox Plugin -->
<script type="text/javascript" src="assets/templates/plugins/swipebox/js/jquery.swipebox.min.js"></script>
<!-- Smoothscroll Plugin -->
<script type="text/javascript" src="assets/templates/plugins/smoothscroll/smoothscroll.js"></script>
<!-- Sticky Plugin -->
<script type="text/javascript" src="assets/templates/plugins/sticky/jquery.sticky.js"></script>
<!-- Select Plugin -->
<script type="text/javascript" src="assets/templates/plugins/fs.selecter/jquery.fs.selecter.min.js"></script>
<!-- Waypoint Plugin -->
<script type="text/javascript" src="assets/templates/plugins/waypoints/jquery.waypoints.min.js"></script>
<!-- FlickrFeed Plugin -->
<script type="text/javascript" src="assets/templates/plugins/jflickrfeed/jflickrfeed.min.js"></script>
<!-- Dribbble Plugin -->
<script type="text/javascript" src="assets/templates/plugins/jribbble/jribbble.min.js"></script>
<!-- Twitter Plugin -->
<script type="text/javascript" src="assets/templates/plugins/tweetie/tweetie.min.js"></script>
<!-- Validator Plugin -->
<script type="text/javascript" src="assets/templates/plugins/bootstrap-validator/js/validator.min.js"></script>
<!-- Material Kit Plugin -->
<script type="text/javascript" src="assets/templates/plugins/materialKit/material.min.js"></script>
<script type="text/javascript" src="assets/templates/plugins/materialKit/material-kit.js"></script>
<!-- Selection Sharer -->
<script type="text/javascript" src="assets/templates/plugins/selection-sharer/dist/selection-sharer.js"></script>
<script type="text/javascript" src="assets/templates/fancybox/source/jquery.fancybox.pack.js"></script>
<script>
  (function(d, s, id)
  {
    var js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return;
    js = d.createElement(s);
    js.id = id;
    js.src =assets/templates/ "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.5&appId=696154480488350";
    fjs.parentNode.insertBefore(js, fjs);
  }(document, \'script\', \'facebook-jssdk\'));
</script>
<script>
        
        $(document).ready(function(){
            
            $(\'.callback\').fancybox({
        		maxWidth	: 800,
        		maxHeight	: 600,
        		fitToView	: false,
        		width		: \'70%\',
        		height		: \'70%\',
        		autoSize	: false,
        		closeClick	: false,
        		openEffect	: \'fade\',
        		closeEffect	: \'fade\'
        	});
        });
        
      </script>
<!-- Theme Functions -->
<script type="text/javascript" src="assets/templates/js/theme.functions.js"></script>
<!-- Social Widgets Config -->
<script type="text/javascript" src="assets/templates/js/social-widgets-config.js"></script>',
        ),
        'policies' => 
        array (
        ),
        'source' => 
        array (
          'id' => 1,
          'name' => 'Filesystem',
          'description' => '',
          'class_key' => 'sources.modFileMediaSource',
          'properties' => 
          array (
          ),
          'is_stream' => true,
        ),
      ),
    ),
    'modSnippet' => 
    array (
      'pdoMenu' => 
      array (
        'fields' => 
        array (
          'id' => 19,
          'source' => 1,
          'property_preprocess' => false,
          'name' => 'pdoMenu',
          'description' => '',
          'editor_type' => 0,
          'category' => 2,
          'cache_type' => 0,
          'snippet' => '/** @var array $scriptProperties */

// Convert parameters from Wayfinder if exists
if (isset($startId)) {
    $scriptProperties[\'parents\'] = $startId;
}
if (!empty($includeDocs)) {
    $tmp = array_map(\'trim\', explode(\',\', $includeDocs));
    foreach ($tmp as $v) {
        if (!empty($scriptProperties[\'resources\'])) {
            $scriptProperties[\'resources\'] .= \',\' . $v;
        } else {
            $scriptProperties[\'resources\'] = $v;
        }
    }
}
if (!empty($excludeDocs)) {
    $tmp = array_map(\'trim\', explode(\',\', $excludeDocs));
    foreach ($tmp as $v) {
        if (!empty($scriptProperties[\'resources\'])) {
            $scriptProperties[\'resources\'] .= \',-\' . $v;
        } else {
            $scriptProperties[\'resources\'] = \'-\' . $v;
        }
    }
}

if (!empty($previewUnpublished) && $modx->hasPermission(\'view_unpublished\')) {
    $scriptProperties[\'showUnpublished\'] = 1;
}

$scriptProperties[\'depth\'] = empty($level) ? 100 : abs($level) - 1;
if (!empty($contexts)) {
    $scriptProperties[\'context\'] = $contexts;
}
if (empty($scriptProperties[\'context\'])) {
    $scriptProperties[\'context\'] = $modx->resource->context_key;
}

// Save original parents specified by user
$specified_parents = array_map(\'trim\', explode(\',\', $scriptProperties[\'parents\']));

if ($scriptProperties[\'parents\'] === \'\') {
    $scriptProperties[\'parents\'] = $modx->resource->id;
} elseif ($scriptProperties[\'parents\'] === 0 || $scriptProperties[\'parents\'] === \'0\') {
    if ($scriptProperties[\'depth\'] !== \'\' && $scriptProperties[\'depth\'] !== 100) {
        $contexts = array_map(\'trim\', explode(\',\', $scriptProperties[\'context\']));
        $parents = array();
        if (!empty($scriptProperties[\'showDeleted\'])) {
            $pdoFetch = $modx->getService(\'pdoFetch\');
            foreach ($contexts as $ctx) {
                $parents = array_merge($parents,
                    $pdoFetch->getChildIds(\'modResource\', 0, $scriptProperties[\'depth\'], array(\'context\' => $ctx)));
            }
        } else {
            foreach ($contexts as $ctx) {
                $parents = array_merge($parents,
                    $modx->getChildIds(0, $scriptProperties[\'depth\'], array(\'context\' => $ctx)));
            }
        }
        $scriptProperties[\'parents\'] = !empty($parents) ? implode(\',\', $parents) : \'+0\';
        $scriptProperties[\'depth\'] = 0;
    }
    $scriptProperties[\'includeParents\'] = 1;
    $scriptProperties[\'displayStart\'] = 0;
} else {
    $parents = array_map(\'trim\', explode(\',\', $scriptProperties[\'parents\']));
    $parents_in = $parents_out = array();
    foreach ($parents as $v) {
        if (!is_numeric($v)) {
            continue;
        }
        if ($v[0] == \'-\') {
            $parents_out[] = abs($v);
        } else {
            $parents_in[] = abs($v);
        }
    }

    if (empty($parents_in)) {
        $scriptProperties[\'includeParents\'] = 1;
        $scriptProperties[\'displayStart\'] = 0;
    }
}

if (!empty($displayStart)) {
    $scriptProperties[\'includeParents\'] = 1;
}
if (!empty($ph)) {
    $toPlaceholder = $ph;
}
if (!empty($sortOrder)) {
    $scriptProperties[\'sortdir\'] = $sortOrder;
}
if (!empty($sortBy)) {
    $scriptProperties[\'sortby\'] = $sortBy;
}
if (!empty($permissions)) {
    $scriptProperties[\'checkPermissions\'] = $permissions;
}
if (!empty($cacheResults)) {
    $scriptProperties[\'cache\'] = $cacheResults;
}
if (!empty($ignoreHidden)) {
    $scriptProperties[\'showHidden\'] = $ignoreHidden;
}

$wfTemplates = array(
    \'outerTpl\' => \'tplOuter\',
    \'rowTpl\' => \'tpl\',
    \'parentRowTpl\' => \'tplParentRow\',
    \'parentRowHereTpl\' => \'tplParentRowHere\',
    \'hereTpl\' => \'tplHere\',
    \'innerTpl\' => \'tplInner\',
    \'innerRowTpl\' => \'tplInnerRow\',
    \'innerHereTpl\' => \'tplInnerHere\',
    \'activeParentRowTpl\' => \'tplParentRowActive\',
    \'categoryFoldersTpl\' => \'tplCategoryFolder\',
    \'startItemTpl\' => \'tplStart\',
);
foreach ($wfTemplates as $k => $v) {
    if (isset(${$k})) {
        $scriptProperties[$v] = ${$k};
    }
}
//---

/** @var pdoMenu $pdoMenu */
$fqn = $modx->getOption(\'pdoMenu.class\', null, \'pdotools.pdomenu\', true);
$path = $modx->getOption(\'pdomenu_class_path\', null, MODX_CORE_PATH . \'components/pdotools/model/\', true);
if ($pdoClass = $modx->loadClass($fqn, $path, false, true)) {
    $pdoMenu = new $pdoClass($modx, $scriptProperties);
} else {
    return false;
}
$pdoMenu->pdoTools->addTime(\'pdoTools loaded\');

$cache = !empty($cache) || (!$modx->user->id && !empty($cacheAnonymous));
if (empty($scriptProperties[\'cache_key\'])) {
    $scriptProperties[\'cache_key\'] = \'pdomenu/\' . sha1(serialize($scriptProperties));
}

$output = \'\';
$tree = array();
if ($cache) {
    $tree = $pdoMenu->pdoTools->getCache($scriptProperties);
}
if (empty($tree)) {
    $data = $pdoMenu->pdoTools->run();
    $data = $pdoMenu->pdoTools->buildTree($data, \'id\', \'parent\', $specified_parents);
    $tree = array();
    foreach ($data as $k => $v) {
        if (empty($v[\'id\'])) {
            if (!in_array($k, $specified_parents) && !$pdoMenu->checkResource($k)) {
                continue;
            } else {
                $tree = array_merge($tree, $v[\'children\']);
            }
        } else {
            $tree[$k] = $v;
        }
    }
    if ($cache) {
        $pdoMenu->pdoTools->setCache($tree, $scriptProperties);
    }
}
if (!empty($tree)) {
    $output = $pdoMenu->templateTree($tree);
}

if ($modx->user->hasSessionContext(\'mgr\') && !empty($showLog)) {
    $output .= \'<pre class="pdoMenuLog">\' . print_r($pdoMenu->pdoTools->getTime(), 1) . \'</pre>\';
}

if (!empty($toPlaceholder)) {
    $modx->setPlaceholder($toPlaceholder, $output);
} else {
    return $output;
}',
          'locked' => false,
          'properties' => 
          array (
            'showLog' => 
            array (
              'name' => 'showLog',
              'desc' => 'pdotools_prop_showLog',
              'type' => 'combo-boolean',
              'options' => 
              array (
              ),
              'value' => false,
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Показывать дополнительную информацию о работе сниппета. Только для авторизованных в контекте "mgr".',
              'area_trans' => '',
            ),
            'fastMode' => 
            array (
              'name' => 'fastMode',
              'desc' => 'pdotools_prop_fastMode',
              'type' => 'combo-boolean',
              'options' => 
              array (
              ),
              'value' => false,
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Быстрый режим обработки чанков. Все необработанные теги (условия, сниппеты и т.п.) будут вырезаны.',
              'area_trans' => '',
            ),
            'level' => 
            array (
              'name' => 'level',
              'desc' => 'pdotools_prop_level',
              'type' => 'numberfield',
              'options' => 
              array (
              ),
              'value' => 0,
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Уровень генерируемого меню.',
              'area_trans' => '',
            ),
            'parents' => 
            array (
              'name' => 'parents',
              'desc' => 'pdotools_prop_parents',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Список родителей, через запятую, для поиска результатов. По умолчанию выборка ограничена текущим родителем. Если поставить 0 - выборка не ограничивается. Если id родителя начинается с дефиса, он и его потомки исключается из выборки.',
              'area_trans' => '',
            ),
            'displayStart' => 
            array (
              'name' => 'displayStart',
              'desc' => 'pdotools_prop_displayStart',
              'type' => 'combo-boolean',
              'options' => 
              array (
              ),
              'value' => false,
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Включить показ начальных узлов меню. Полезно при указании более одного "parents".',
              'area_trans' => '',
            ),
            'resources' => 
            array (
              'name' => 'resources',
              'desc' => 'pdotools_prop_resources',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Список ресурсов, через запятую, для вывода в результатах. Если id ресурса начинается с дефиса, этот ресурс исключается из выборки.',
              'area_trans' => '',
            ),
            'templates' => 
            array (
              'name' => 'templates',
              'desc' => 'pdotools_prop_templates',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Список шаблонов, через запятую, для фильтрации результатов. Если id шаблона начинается с дефиса, ресурсы с ним исключается из выборки.',
              'area_trans' => '',
            ),
            'context' => 
            array (
              'name' => 'context',
              'desc' => 'pdotools_prop_context',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Ограничение выборки по контексту ресурсов.',
              'area_trans' => '',
            ),
            'cache' => 
            array (
              'name' => 'cache',
              'desc' => 'pdotools_prop_cache',
              'type' => 'combo-boolean',
              'options' => 
              array (
              ),
              'value' => false,
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Кэширование результатов работы сниппета.',
              'area_trans' => '',
            ),
            'cacheTime' => 
            array (
              'name' => 'cacheTime',
              'desc' => 'pdotools_prop_cacheTime',
              'type' => 'numberfield',
              'options' => 
              array (
              ),
              'value' => 3600,
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Время актуальности кэша в секундах.',
              'area_trans' => '',
            ),
            'cacheAnonymous' => 
            array (
              'name' => 'cacheAnonymous',
              'desc' => 'pdotools_prop_cacheAnonymous',
              'type' => 'combo-boolean',
              'options' => 
              array (
              ),
              'value' => false,
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Включить кэширование только для неавторизованных посетителей.',
              'area_trans' => '',
            ),
            'plPrefix' => 
            array (
              'name' => 'plPrefix',
              'desc' => 'pdotools_prop_plPrefix',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => 'wf.',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Префикс для выставляемых плейсхолдеров, по умолчанию "wf.".',
              'area_trans' => '',
            ),
            'showHidden' => 
            array (
              'name' => 'showHidden',
              'desc' => 'pdotools_prop_showHidden',
              'type' => 'combo-boolean',
              'options' => 
              array (
              ),
              'value' => false,
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Показывать ресурсы, скрытые в меню.',
              'area_trans' => '',
            ),
            'showUnpublished' => 
            array (
              'name' => 'showUnpublished',
              'desc' => 'pdotools_prop_showUnpublished',
              'type' => 'combo-boolean',
              'options' => 
              array (
              ),
              'value' => false,
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Показывать неопубликованные ресурсы.',
              'area_trans' => '',
            ),
            'showDeleted' => 
            array (
              'name' => 'showDeleted',
              'desc' => 'pdotools_prop_showDeleted',
              'type' => 'combo-boolean',
              'options' => 
              array (
              ),
              'value' => false,
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Показывать удалённые ресурсы.',
              'area_trans' => '',
            ),
            'previewUnpublished' => 
            array (
              'name' => 'previewUnpublished',
              'desc' => 'pdotools_prop_previewUnpublished',
              'type' => 'combo-boolean',
              'options' => 
              array (
              ),
              'value' => false,
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Включить показ неопубликованных документов, если у пользователя есть на это разрешение.',
              'area_trans' => '',
            ),
            'hideSubMenus' => 
            array (
              'name' => 'hideSubMenus',
              'desc' => 'pdotools_prop_hideSubMenus',
              'type' => 'combo-boolean',
              'options' => 
              array (
              ),
              'value' => false,
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Спрятать неактивные ветки меню.',
              'area_trans' => '',
            ),
            'useWeblinkUrl' => 
            array (
              'name' => 'useWeblinkUrl',
              'desc' => 'pdotools_prop_useWeblinkUrl',
              'type' => 'combo-boolean',
              'options' => 
              array (
              ),
              'value' => true,
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Генерировать ссылку с учетом класса ресурса.',
              'area_trans' => '',
            ),
            'sortdir' => 
            array (
              'name' => 'sortdir',
              'desc' => 'pdotools_prop_sortdir',
              'type' => 'list',
              'options' => 
              array (
                0 => 
                array (
                  'text' => 'ASC',
                  'value' => 'ASC',
                  'name' => 'ASC',
                ),
                1 => 
                array (
                  'text' => 'DESC',
                  'value' => 'DESC',
                  'name' => 'DESC',
                ),
              ),
              'value' => 'ASC',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Направление сортировки: по убыванию или возрастанию.',
              'area_trans' => '',
            ),
            'sortby' => 
            array (
              'name' => 'sortby',
              'desc' => 'pdotools_prop_sortby',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => 'menuindex',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Любое поле ресурса для сортировки, включая ТВ параметр, если он указан в параметре "includeTVs". Можно указывать JSON строку с массивом нескольких полей. Для случайно сортировки укажите "RAND()"',
              'area_trans' => '',
            ),
            'limit' => 
            array (
              'name' => 'limit',
              'desc' => 'pdotools_prop_limit',
              'type' => 'numberfield',
              'options' => 
              array (
              ),
              'value' => 0,
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Ограничение количества результатов выборки. Можно использовать "0".',
              'area_trans' => '',
            ),
            'offset' => 
            array (
              'name' => 'offset',
              'desc' => 'pdotools_prop_offset',
              'type' => 'numberfield',
              'options' => 
              array (
              ),
              'value' => 0,
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Пропуск результатов от начала.',
              'area_trans' => '',
            ),
            'rowIdPrefix' => 
            array (
              'name' => 'rowIdPrefix',
              'desc' => 'pdotools_prop_rowIdPrefix',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Префикс id="" для выставления идентификатора в чанк.',
              'area_trans' => '',
            ),
            'firstClass' => 
            array (
              'name' => 'firstClass',
              'desc' => 'pdotools_prop_firstClass',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => 'first',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Класс для первого пункта меню.',
              'area_trans' => '',
            ),
            'lastClass' => 
            array (
              'name' => 'lastClass',
              'desc' => 'pdotools_prop_lastClass',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => 'last',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Класс последнего пункта меню.',
              'area_trans' => '',
            ),
            'hereClass' => 
            array (
              'name' => 'hereClass',
              'desc' => 'pdotools_prop_hereClass',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => 'active',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Класс для активного пункта меню.',
              'area_trans' => '',
            ),
            'parentClass' => 
            array (
              'name' => 'parentClass',
              'desc' => 'pdotools_prop_parentClass',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Класс категории меню.',
              'area_trans' => '',
            ),
            'rowClass' => 
            array (
              'name' => 'rowClass',
              'desc' => 'pdotools_prop_rowClass',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Класс одной строки меню.',
              'area_trans' => '',
            ),
            'outerClass' => 
            array (
              'name' => 'outerClass',
              'desc' => 'pdotools_prop_outerClass',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Класс обертки меню.',
              'area_trans' => '',
            ),
            'innerClass' => 
            array (
              'name' => 'innerClass',
              'desc' => 'pdotools_prop_innerClass',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Класс внутренних ссылок меню.',
              'area_trans' => '',
            ),
            'levelClass' => 
            array (
              'name' => 'levelClass',
              'desc' => 'pdotools_prop_levelClass',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Класс уровня меню. Например, если укажите "level", то будет "level1", "level2" и т.д.',
              'area_trans' => '',
            ),
            'selfClass' => 
            array (
              'name' => 'selfClass',
              'desc' => 'pdotools_prop_selfClass',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Класс текущего документа в меню.',
              'area_trans' => '',
            ),
            'webLinkClass' => 
            array (
              'name' => 'webLinkClass',
              'desc' => 'pdotools_prop_webLinkClass',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Класс документа-ссылки.',
              'area_trans' => '',
            ),
            'tplOuter' => 
            array (
              'name' => 'tplOuter',
              'desc' => 'pdotools_prop_tplOuter',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '@INLINE <ul[[+classes]]>[[+wrapper]]</ul>',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Чанк-обёртка всего блока меню.',
              'area_trans' => '',
            ),
            'tpl' => 
            array (
              'name' => 'tpl',
              'desc' => 'pdotools_prop_tpl',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '@INLINE <li[[+classes]]><a href="[[+link]]" [[+attributes]]>[[+menutitle]]</a>[[+wrapper]]</li>',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Имя чанка для оформления ресурса. Если не указан, то содержимое полей ресурса будет распечатано на экран.',
              'area_trans' => '',
            ),
            'tplParentRow' => 
            array (
              'name' => 'tplParentRow',
              'desc' => 'pdotools_prop_tplParentRow',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Чанк оформления контейнера с потомками.',
              'area_trans' => '',
            ),
            'tplParentRowHere' => 
            array (
              'name' => 'tplParentRowHere',
              'desc' => 'pdotools_prop_tplParentRowHere',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Чанк оформления текущего контейнера с потомками.',
              'area_trans' => '',
            ),
            'tplHere' => 
            array (
              'name' => 'tplHere',
              'desc' => 'pdotools_prop_tplHere',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Чанк текущего документа',
              'area_trans' => '',
            ),
            'tplInner' => 
            array (
              'name' => 'tplInner',
              'desc' => 'pdotools_prop_tplInner',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Чанк-обёртка внутренних пунктов меню. Если пуст - будет использовать "tplInner".',
              'area_trans' => '',
            ),
            'tplInnerRow' => 
            array (
              'name' => 'tplInnerRow',
              'desc' => 'pdotools_prop_tplInnerRow',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Чанк-обёртка активного пункта меню.',
              'area_trans' => '',
            ),
            'tplInnerHere' => 
            array (
              'name' => 'tplInnerHere',
              'desc' => 'pdotools_prop_tplInnerHere',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Чанк-обёртка активного пункта меню.',
              'area_trans' => '',
            ),
            'tplParentRowActive' => 
            array (
              'name' => 'tplParentRowActive',
              'desc' => 'pdotools_prop_tplParentRowActive',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Чанк оформления активного контейнера с потомками.',
              'area_trans' => '',
            ),
            'tplCategoryFolder' => 
            array (
              'name' => 'tplCategoryFolder',
              'desc' => 'pdotools_prop_tplCategoryFolder',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Специальный чанк оформления категории. Категория - это документ с потомками и или нулевым шаблоном, или с атрибутом "rel=\\"category\\"".',
              'area_trans' => '',
            ),
            'tplStart' => 
            array (
              'name' => 'tplStart',
              'desc' => 'pdotools_prop_tplStart',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '@INLINE <h2[[+classes]]>[[+menutitle]]</h2>[[+wrapper]]',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Чанк оформления корневого пункта, при условии, что включен "displayStart".',
              'area_trans' => '',
            ),
            'checkPermissions' => 
            array (
              'name' => 'checkPermissions',
              'desc' => 'pdotools_prop_checkPermissions',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Укажите, какие разрешения нужно проверять у пользователя при выводе документов.',
              'area_trans' => '',
            ),
            'hereId' => 
            array (
              'name' => 'hereId',
              'desc' => 'pdotools_prop_hereId',
              'type' => 'numberfield',
              'options' => 
              array (
              ),
              'value' => '',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Id документа, текущего для генерируемого меню. Нужно указывать только если скрипт сам его неверно определяет, например при выводе меню из чанка другого сниппета.',
              'area_trans' => '',
            ),
            'where' => 
            array (
              'name' => 'where',
              'desc' => 'pdotools_prop_where',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Массив дополнительных параметров выборки, закодированный в JSON.',
              'area_trans' => '',
            ),
            'select' => 
            array (
              'name' => 'select',
              'desc' => 'pdotools_prop_select',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Список полей для выборки, через запятую. Можно указывать JSON строку с массивом, например {"modResource":"id,pagetitle,content"}.',
              'area_trans' => '',
            ),
            'scheme' => 
            array (
              'name' => 'scheme',
              'desc' => 'pdotools_prop_scheme',
              'type' => 'list',
              'options' => 
              array (
                0 => 
                array (
                  'value' => '',
                  'text' => 'System default',
                  'name' => 'System default',
                ),
                1 => 
                array (
                  'value' => -1,
                  'text' => '-1 (relative to site_url)',
                  'name' => '-1 (relative to site_url)',
                ),
                2 => 
                array (
                  'value' => 'full',
                  'text' => 'full (absolute, prepended with site_url)',
                  'name' => 'full (absolute, prepended with site_url)',
                ),
                3 => 
                array (
                  'value' => 'abs',
                  'text' => 'abs (absolute, prepended with base_url)',
                  'name' => 'abs (absolute, prepended with base_url)',
                ),
                4 => 
                array (
                  'value' => 'http',
                  'text' => 'http (absolute, forced to http scheme)',
                  'name' => 'http (absolute, forced to http scheme)',
                ),
                5 => 
                array (
                  'value' => 'https',
                  'text' => 'https (absolute, forced to https scheme)',
                  'name' => 'https (absolute, forced to https scheme)',
                ),
              ),
              'value' => '',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Схема формирования ссылок: "uri" для подстановки поля uri документа (очень быстро) или параметр для modX::makeUrl().',
              'area_trans' => '',
            ),
            'toPlaceholder' => 
            array (
              'name' => 'toPlaceholder',
              'desc' => 'pdotools_prop_toPlaceholder',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Если не пусто, сниппет сохранит все данные в плейсхолдер с этим именем, вместо вывода не экран.',
              'area_trans' => '',
            ),
            'countChildren' => 
            array (
              'name' => 'countChildren',
              'desc' => 'pdotools_prop_countChildren',
              'type' => 'combo-boolean',
              'options' => 
              array (
              ),
              'value' => false,
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Вывести точное количество активных потомков документа в плейсхолдер [[+children]].',
              'area_trans' => '',
            ),
          ),
          'moduleguid' => '',
          'static' => false,
          'static_file' => 'core/components/pdotools/elements/snippets/snippet.pdomenu.php',
          'content' => '/** @var array $scriptProperties */

// Convert parameters from Wayfinder if exists
if (isset($startId)) {
    $scriptProperties[\'parents\'] = $startId;
}
if (!empty($includeDocs)) {
    $tmp = array_map(\'trim\', explode(\',\', $includeDocs));
    foreach ($tmp as $v) {
        if (!empty($scriptProperties[\'resources\'])) {
            $scriptProperties[\'resources\'] .= \',\' . $v;
        } else {
            $scriptProperties[\'resources\'] = $v;
        }
    }
}
if (!empty($excludeDocs)) {
    $tmp = array_map(\'trim\', explode(\',\', $excludeDocs));
    foreach ($tmp as $v) {
        if (!empty($scriptProperties[\'resources\'])) {
            $scriptProperties[\'resources\'] .= \',-\' . $v;
        } else {
            $scriptProperties[\'resources\'] = \'-\' . $v;
        }
    }
}

if (!empty($previewUnpublished) && $modx->hasPermission(\'view_unpublished\')) {
    $scriptProperties[\'showUnpublished\'] = 1;
}

$scriptProperties[\'depth\'] = empty($level) ? 100 : abs($level) - 1;
if (!empty($contexts)) {
    $scriptProperties[\'context\'] = $contexts;
}
if (empty($scriptProperties[\'context\'])) {
    $scriptProperties[\'context\'] = $modx->resource->context_key;
}

// Save original parents specified by user
$specified_parents = array_map(\'trim\', explode(\',\', $scriptProperties[\'parents\']));

if ($scriptProperties[\'parents\'] === \'\') {
    $scriptProperties[\'parents\'] = $modx->resource->id;
} elseif ($scriptProperties[\'parents\'] === 0 || $scriptProperties[\'parents\'] === \'0\') {
    if ($scriptProperties[\'depth\'] !== \'\' && $scriptProperties[\'depth\'] !== 100) {
        $contexts = array_map(\'trim\', explode(\',\', $scriptProperties[\'context\']));
        $parents = array();
        if (!empty($scriptProperties[\'showDeleted\'])) {
            $pdoFetch = $modx->getService(\'pdoFetch\');
            foreach ($contexts as $ctx) {
                $parents = array_merge($parents,
                    $pdoFetch->getChildIds(\'modResource\', 0, $scriptProperties[\'depth\'], array(\'context\' => $ctx)));
            }
        } else {
            foreach ($contexts as $ctx) {
                $parents = array_merge($parents,
                    $modx->getChildIds(0, $scriptProperties[\'depth\'], array(\'context\' => $ctx)));
            }
        }
        $scriptProperties[\'parents\'] = !empty($parents) ? implode(\',\', $parents) : \'+0\';
        $scriptProperties[\'depth\'] = 0;
    }
    $scriptProperties[\'includeParents\'] = 1;
    $scriptProperties[\'displayStart\'] = 0;
} else {
    $parents = array_map(\'trim\', explode(\',\', $scriptProperties[\'parents\']));
    $parents_in = $parents_out = array();
    foreach ($parents as $v) {
        if (!is_numeric($v)) {
            continue;
        }
        if ($v[0] == \'-\') {
            $parents_out[] = abs($v);
        } else {
            $parents_in[] = abs($v);
        }
    }

    if (empty($parents_in)) {
        $scriptProperties[\'includeParents\'] = 1;
        $scriptProperties[\'displayStart\'] = 0;
    }
}

if (!empty($displayStart)) {
    $scriptProperties[\'includeParents\'] = 1;
}
if (!empty($ph)) {
    $toPlaceholder = $ph;
}
if (!empty($sortOrder)) {
    $scriptProperties[\'sortdir\'] = $sortOrder;
}
if (!empty($sortBy)) {
    $scriptProperties[\'sortby\'] = $sortBy;
}
if (!empty($permissions)) {
    $scriptProperties[\'checkPermissions\'] = $permissions;
}
if (!empty($cacheResults)) {
    $scriptProperties[\'cache\'] = $cacheResults;
}
if (!empty($ignoreHidden)) {
    $scriptProperties[\'showHidden\'] = $ignoreHidden;
}

$wfTemplates = array(
    \'outerTpl\' => \'tplOuter\',
    \'rowTpl\' => \'tpl\',
    \'parentRowTpl\' => \'tplParentRow\',
    \'parentRowHereTpl\' => \'tplParentRowHere\',
    \'hereTpl\' => \'tplHere\',
    \'innerTpl\' => \'tplInner\',
    \'innerRowTpl\' => \'tplInnerRow\',
    \'innerHereTpl\' => \'tplInnerHere\',
    \'activeParentRowTpl\' => \'tplParentRowActive\',
    \'categoryFoldersTpl\' => \'tplCategoryFolder\',
    \'startItemTpl\' => \'tplStart\',
);
foreach ($wfTemplates as $k => $v) {
    if (isset(${$k})) {
        $scriptProperties[$v] = ${$k};
    }
}
//---

/** @var pdoMenu $pdoMenu */
$fqn = $modx->getOption(\'pdoMenu.class\', null, \'pdotools.pdomenu\', true);
$path = $modx->getOption(\'pdomenu_class_path\', null, MODX_CORE_PATH . \'components/pdotools/model/\', true);
if ($pdoClass = $modx->loadClass($fqn, $path, false, true)) {
    $pdoMenu = new $pdoClass($modx, $scriptProperties);
} else {
    return false;
}
$pdoMenu->pdoTools->addTime(\'pdoTools loaded\');

$cache = !empty($cache) || (!$modx->user->id && !empty($cacheAnonymous));
if (empty($scriptProperties[\'cache_key\'])) {
    $scriptProperties[\'cache_key\'] = \'pdomenu/\' . sha1(serialize($scriptProperties));
}

$output = \'\';
$tree = array();
if ($cache) {
    $tree = $pdoMenu->pdoTools->getCache($scriptProperties);
}
if (empty($tree)) {
    $data = $pdoMenu->pdoTools->run();
    $data = $pdoMenu->pdoTools->buildTree($data, \'id\', \'parent\', $specified_parents);
    $tree = array();
    foreach ($data as $k => $v) {
        if (empty($v[\'id\'])) {
            if (!in_array($k, $specified_parents) && !$pdoMenu->checkResource($k)) {
                continue;
            } else {
                $tree = array_merge($tree, $v[\'children\']);
            }
        } else {
            $tree[$k] = $v;
        }
    }
    if ($cache) {
        $pdoMenu->pdoTools->setCache($tree, $scriptProperties);
    }
}
if (!empty($tree)) {
    $output = $pdoMenu->templateTree($tree);
}

if ($modx->user->hasSessionContext(\'mgr\') && !empty($showLog)) {
    $output .= \'<pre class="pdoMenuLog">\' . print_r($pdoMenu->pdoTools->getTime(), 1) . \'</pre>\';
}

if (!empty($toPlaceholder)) {
    $modx->setPlaceholder($toPlaceholder, $output);
} else {
    return $output;
}',
        ),
        'policies' => 
        array (
        ),
        'source' => 
        array (
          'id' => 1,
          'name' => 'Filesystem',
          'description' => '',
          'class_key' => 'sources.modFileMediaSource',
          'properties' => 
          array (
          ),
          'is_stream' => true,
        ),
      ),
      'pdoResources' => 
      array (
        'fields' => 
        array (
          'id' => 12,
          'source' => 1,
          'property_preprocess' => false,
          'name' => 'pdoResources',
          'description' => '',
          'editor_type' => 0,
          'category' => 2,
          'cache_type' => 0,
          'snippet' => '/** @var array $scriptProperties */
if (isset($parents) && $parents === \'\') {
    $scriptProperties[\'parents\'] = $modx->resource->id;
}
if (!empty($returnIds)) {
    $scriptProperties[\'return\'] = \'ids\';
}

// Adding extra parameters into special place so we can put them in a results
/** @var modSnippet $snippet */
$additionalPlaceholders = $properties = array();
if (isset($this) && $this instanceof modSnippet) {
    $properties = $this->get(\'properties\');
}
elseif ($snippet = $modx->getObject(\'modSnippet\', array(\'name\' => \'pdoResources\'))) {
    $properties = $snippet->get(\'properties\');
}
if (!empty($properties)) {
    foreach ($scriptProperties as $k => $v) {
        if (!isset($properties[$k])) {
            $additionalPlaceholders[$k] = $v;
        }
    }
}
$scriptProperties[\'additionalPlaceholders\'] = $additionalPlaceholders;

/** @var pdoFetch $pdoFetch */
$fqn = $modx->getOption(\'pdoFetch.class\', null, \'pdotools.pdofetch\', true);
$path = $modx->getOption(\'pdofetch_class_path\', null, MODX_CORE_PATH . \'components/pdotools/model/\', true);
if ($pdoClass = $modx->loadClass($fqn, $path, false, true)) {
    $pdoFetch = new $pdoClass($modx, $scriptProperties);
} else {
    return false;
}
$pdoFetch->addTime(\'pdoTools loaded\');
$output = $pdoFetch->run();

$log = \'\';
if ($modx->user->hasSessionContext(\'mgr\') && !empty($showLog)) {
    $log .= \'<pre class="pdoResourcesLog">\' . print_r($pdoFetch->getTime(), 1) . \'</pre>\';
}

// Return output
if (!empty($returnIds)) {
    $modx->setPlaceholder(\'pdoResources.log\', $log);
    if (!empty($toPlaceholder)) {
        $modx->setPlaceholder($toPlaceholder, $output);
    } else {
        return $output;
    }
} elseif (!empty($toSeparatePlaceholders)) {
    $output[\'log\'] = $log;
    $modx->setPlaceholders($output, $toSeparatePlaceholders);
} else {
    $output .= $log;

    if (!empty($tplWrapper) && (!empty($wrapIfEmpty) || !empty($output))) {
        $output = $pdoFetch->getChunk($tplWrapper, array_merge($additionalPlaceholders, array(\'output\' => $output)),
            $pdoFetch->config[\'fastMode\']);
    }

    if (!empty($toPlaceholder)) {
        $modx->setPlaceholder($toPlaceholder, $output);
    } else {
        return $output;
    }
}',
          'locked' => false,
          'properties' => 
          array (
            'tpl' => 
            array (
              'name' => 'tpl',
              'desc' => 'pdotools_prop_tpl',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Имя чанка для оформления ресурса. Если не указан, то содержимое полей ресурса будет распечатано на экран.',
              'area_trans' => '',
            ),
            'returnIds' => 
            array (
              'name' => 'returnIds',
              'desc' => 'pdotools_prop_returnIds',
              'type' => 'combo-boolean',
              'options' => 
              array (
              ),
              'value' => false,
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Возвращать строку со списком id ресурсов, вместо оформленных результатов.',
              'area_trans' => '',
            ),
            'showLog' => 
            array (
              'name' => 'showLog',
              'desc' => 'pdotools_prop_showLog',
              'type' => 'combo-boolean',
              'options' => 
              array (
              ),
              'value' => false,
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Показывать дополнительную информацию о работе сниппета. Только для авторизованных в контекте "mgr".',
              'area_trans' => '',
            ),
            'fastMode' => 
            array (
              'name' => 'fastMode',
              'desc' => 'pdotools_prop_fastMode',
              'type' => 'combo-boolean',
              'options' => 
              array (
              ),
              'value' => false,
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Быстрый режим обработки чанков. Все необработанные теги (условия, сниппеты и т.п.) будут вырезаны.',
              'area_trans' => '',
            ),
            'sortby' => 
            array (
              'name' => 'sortby',
              'desc' => 'pdotools_prop_sortby',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => 'publishedon',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Любое поле ресурса для сортировки, включая ТВ параметр, если он указан в параметре "includeTVs". Можно указывать JSON строку с массивом нескольких полей. Для случайно сортировки укажите "RAND()"',
              'area_trans' => '',
            ),
            'sortbyTV' => 
            array (
              'name' => 'sortbyTV',
              'desc' => 'pdotools_prop_sortbyTV',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Сортировка по ТВ параметру. Если он не указан в &includeTVs, то будет подключен автоматически.',
              'area_trans' => '',
            ),
            'sortbyTVType' => 
            array (
              'name' => 'sortbyTVType',
              'desc' => 'pdotools_prop_sortbyTVType',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Тип сортировки по ТВ параметру. Возможные варианты: string, integer, decimal и datetime. Если пусто, то ТВ будет отсортирован в зависимости от его типа: как текст, число или дата.',
              'area_trans' => '',
            ),
            'sortdir' => 
            array (
              'name' => 'sortdir',
              'desc' => 'pdotools_prop_sortdir',
              'type' => 'list',
              'options' => 
              array (
                0 => 
                array (
                  'text' => 'ASC',
                  'value' => 'ASC',
                  'name' => 'ASC',
                ),
                1 => 
                array (
                  'text' => 'DESC',
                  'value' => 'DESC',
                  'name' => 'DESC',
                ),
              ),
              'value' => 'DESC',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Направление сортировки: по убыванию или возрастанию.',
              'area_trans' => '',
            ),
            'sortdirTV' => 
            array (
              'name' => 'sortdirTV',
              'desc' => 'pdotools_prop_sortdirTV',
              'type' => 'list',
              'options' => 
              array (
                0 => 
                array (
                  'text' => 'ASC',
                  'value' => 'ASC',
                  'name' => 'ASC',
                ),
                1 => 
                array (
                  'text' => 'DESC',
                  'value' => 'DESC',
                  'name' => 'DESC',
                ),
              ),
              'value' => 'ASC',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Направление сортировки ТВ: по убыванию или возрастанию. Если не указан, то будет равен параметру &sortdir.',
              'area_trans' => '',
            ),
            'limit' => 
            array (
              'name' => 'limit',
              'desc' => 'pdotools_prop_limit',
              'type' => 'numberfield',
              'options' => 
              array (
              ),
              'value' => 10,
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Ограничение количества результатов выборки. Можно использовать "0".',
              'area_trans' => '',
            ),
            'offset' => 
            array (
              'name' => 'offset',
              'desc' => 'pdotools_prop_offset',
              'type' => 'numberfield',
              'options' => 
              array (
              ),
              'value' => 0,
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Пропуск результатов от начала.',
              'area_trans' => '',
            ),
            'depth' => 
            array (
              'name' => 'depth',
              'desc' => 'pdotools_prop_depth',
              'type' => 'numberfield',
              'options' => 
              array (
              ),
              'value' => 10,
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Глубина поиска дочерних ресурсов от родителя.',
              'area_trans' => '',
            ),
            'outputSeparator' => 
            array (
              'name' => 'outputSeparator',
              'desc' => 'pdotools_prop_outputSeparator',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '
',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Необязательная строка для разделения результатов работы.',
              'area_trans' => '',
            ),
            'toPlaceholder' => 
            array (
              'name' => 'toPlaceholder',
              'desc' => 'pdotools_prop_toPlaceholder',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Если не пусто, сниппет сохранит все данные в плейсхолдер с этим именем, вместо вывода не экран.',
              'area_trans' => '',
            ),
            'parents' => 
            array (
              'name' => 'parents',
              'desc' => 'pdotools_prop_parents',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Список родителей, через запятую, для поиска результатов. По умолчанию выборка ограничена текущим родителем. Если поставить 0 - выборка не ограничивается. Если id родителя начинается с дефиса, он и его потомки исключается из выборки.',
              'area_trans' => '',
            ),
            'includeContent' => 
            array (
              'name' => 'includeContent',
              'desc' => 'pdotools_prop_includeContent',
              'type' => 'combo-boolean',
              'options' => 
              array (
              ),
              'value' => false,
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Включаем поле "content" в выборку.',
              'area_trans' => '',
            ),
            'includeTVs' => 
            array (
              'name' => 'includeTVs',
              'desc' => 'pdotools_prop_includeTVs',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Список ТВ параметров для выборки, через запятую. Например: "action,time" дадут плейсхолдеры [[+action]] и [[+time]].',
              'area_trans' => '',
            ),
            'prepareTVs' => 
            array (
              'name' => 'prepareTVs',
              'desc' => 'pdotools_prop_prepareTVs',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '1',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Список ТВ параметров, которые нужно подготовить перед выводом. По умолчанию, установлено в "1", что означает подготовку всех ТВ, указанных в "&includeTVs=``"',
              'area_trans' => '',
            ),
            'processTVs' => 
            array (
              'name' => 'processTVs',
              'desc' => 'pdotools_prop_processTVs',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Список ТВ параметров, которые нужно обработать перед выводом. Если установить в "1" - будут обработаны все ТВ, указанные в "&includeTVs=``". По умолчанию параметр пуст.',
              'area_trans' => '',
            ),
            'tvPrefix' => 
            array (
              'name' => 'tvPrefix',
              'desc' => 'pdotools_prop_tvPrefix',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => 'tv.',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Префикс для ТВ параметров.',
              'area_trans' => '',
            ),
            'tvFilters' => 
            array (
              'name' => 'tvFilters',
              'desc' => 'pdotools_prop_tvFilters',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Список фильтров по ТВ, с разделителями AND и OR. Разделитель, указанный в параметре "&tvFiltersOrDelimiter" представляет логическое условие OR и по нему условия группируются в первую очередь.  Внутри каждой группы вы можете задать список значений, разделив их "&tvFiltersAndDelimiter". Поиск значений может проводиться в каком-то конкретном ТВ, если он указан ("myTV==value"), или в любом ("value"). Пример вызова: "&tvFilters=`filter2==one,filter1==bar%||filter1==foo`". <br />Обратите внимание: фильтрация использует оператор LIKE и знак "%" является метасимволом. <br />И еще: Поиск идёт по значениям, которые физически находятся в БД, то есть, сюда не подставляются значения по умолчанию из настроек ТВ.',
              'area_trans' => '',
            ),
            'tvFiltersAndDelimiter' => 
            array (
              'name' => 'tvFiltersAndDelimiter',
              'desc' => 'pdotools_prop_tvFiltersAndDelimiter',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => ',',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Разделитель для условий AND в параметре "&tvFilters". По умолчанию: ",".',
              'area_trans' => '',
            ),
            'tvFiltersOrDelimiter' => 
            array (
              'name' => 'tvFiltersOrDelimiter',
              'desc' => 'pdotools_prop_tvFiltersOrDelimiter',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '||',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Разделитель для условий OR в параметре "&tvFilters". По умолчанию: "||".',
              'area_trans' => '',
            ),
            'where' => 
            array (
              'name' => 'where',
              'desc' => 'pdotools_prop_where',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Массив дополнительных параметров выборки, закодированный в JSON.',
              'area_trans' => '',
            ),
            'showUnpublished' => 
            array (
              'name' => 'showUnpublished',
              'desc' => 'pdotools_prop_showUnpublished',
              'type' => 'combo-boolean',
              'options' => 
              array (
              ),
              'value' => false,
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Показывать неопубликованные ресурсы.',
              'area_trans' => '',
            ),
            'showDeleted' => 
            array (
              'name' => 'showDeleted',
              'desc' => 'pdotools_prop_showDeleted',
              'type' => 'combo-boolean',
              'options' => 
              array (
              ),
              'value' => false,
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Показывать удалённые ресурсы.',
              'area_trans' => '',
            ),
            'showHidden' => 
            array (
              'name' => 'showHidden',
              'desc' => 'pdotools_prop_showHidden',
              'type' => 'combo-boolean',
              'options' => 
              array (
              ),
              'value' => true,
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Показывать ресурсы, скрытые в меню.',
              'area_trans' => '',
            ),
            'hideContainers' => 
            array (
              'name' => 'hideContainers',
              'desc' => 'pdotools_prop_hideContainers',
              'type' => 'combo-boolean',
              'options' => 
              array (
              ),
              'value' => false,
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Отключает вывод контейнеров, то есть, ресурсов с isfolder = 1.',
              'area_trans' => '',
            ),
            'context' => 
            array (
              'name' => 'context',
              'desc' => 'pdotools_prop_context',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Ограничение выборки по контексту ресурсов.',
              'area_trans' => '',
            ),
            'idx' => 
            array (
              'name' => 'idx',
              'desc' => 'pdotools_prop_idx',
              'type' => 'numberfield',
              'options' => 
              array (
              ),
              'value' => '',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Вы можете указать стартовый номер итерации вывода результатов.',
              'area_trans' => '',
            ),
            'first' => 
            array (
              'name' => 'first',
              'desc' => 'pdotools_prop_first',
              'type' => 'numberfield',
              'options' => 
              array (
              ),
              'value' => '',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Номер первой итерации вывода результатов.',
              'area_trans' => '',
            ),
            'last' => 
            array (
              'name' => 'last',
              'desc' => 'pdotools_prop_last',
              'type' => 'numberfield',
              'options' => 
              array (
              ),
              'value' => '',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Номер последней итерации вывода результатов. По умолчанию он рассчитается автоматически, по формуле (total + first - 1).',
              'area_trans' => '',
            ),
            'tplFirst' => 
            array (
              'name' => 'tplFirst',
              'desc' => 'pdotools_prop_tplFirst',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Имя чанка для первого ресурса в результатах.',
              'area_trans' => '',
            ),
            'tplLast' => 
            array (
              'name' => 'tplLast',
              'desc' => 'pdotools_prop_tplLast',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Имя чанка для последнего ресурса в результатах.',
              'area_trans' => '',
            ),
            'tplOdd' => 
            array (
              'name' => 'tplOdd',
              'desc' => 'pdotools_prop_tplOdd',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Имя чанка для каждого второго ресурса.',
              'area_trans' => '',
            ),
            'tplWrapper' => 
            array (
              'name' => 'tplWrapper',
              'desc' => 'pdotools_prop_tplWrapper',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Чанк-обёртка, для заворачивания всех результатов. Понимает один плейсхолдер: [[+output]]. Не работает вместе с параметром "toSeparatePlaceholders".',
              'area_trans' => '',
            ),
            'wrapIfEmpty' => 
            array (
              'name' => 'wrapIfEmpty',
              'desc' => 'pdotools_prop_wrapIfEmpty',
              'type' => 'combo-boolean',
              'options' => 
              array (
              ),
              'value' => false,
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Включает вывод чанка-обертки (tplWrapper) даже если результатов нет.',
              'area_trans' => '',
            ),
            'totalVar' => 
            array (
              'name' => 'totalVar',
              'desc' => 'pdotools_prop_totalVar',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => 'total',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Имя плейсхолдера для сохранения общего количества результатов.',
              'area_trans' => '',
            ),
            'resources' => 
            array (
              'name' => 'resources',
              'desc' => 'pdotools_prop_resources',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Список ресурсов, через запятую, для вывода в результатах. Если id ресурса начинается с дефиса, этот ресурс исключается из выборки.',
              'area_trans' => '',
            ),
            'tplCondition' => 
            array (
              'name' => 'tplCondition',
              'desc' => 'pdotools_prop_tplCondition',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Поле ресурса, из которого будет получено значение для выбора чанка по условию в "conditionalTpls".',
              'area_trans' => '',
            ),
            'tplOperator' => 
            array (
              'name' => 'tplOperator',
              'desc' => 'pdotools_prop_tplOperator',
              'type' => 'list',
              'options' => 
              array (
                0 => 
                array (
                  'text' => 'is equal to',
                  'value' => '==',
                  'name' => 'is equal to',
                ),
                1 => 
                array (
                  'text' => 'is not equal to',
                  'value' => '!=',
                  'name' => 'is not equal to',
                ),
                2 => 
                array (
                  'text' => 'less than',
                  'value' => '<',
                  'name' => 'less than',
                ),
                3 => 
                array (
                  'text' => 'less than or equal to',
                  'value' => '<=',
                  'name' => 'less than or equal to',
                ),
                4 => 
                array (
                  'text' => 'greater than or equal to',
                  'value' => '>=',
                  'name' => 'greater than or equal to',
                ),
                5 => 
                array (
                  'text' => 'is empty',
                  'value' => 'empty',
                  'name' => 'is empty',
                ),
                6 => 
                array (
                  'text' => 'is not empty',
                  'value' => '!empty',
                  'name' => 'is not empty',
                ),
                7 => 
                array (
                  'text' => 'is null',
                  'value' => 'null',
                  'name' => 'is null',
                ),
                8 => 
                array (
                  'text' => 'is in array',
                  'value' => 'inarray',
                  'name' => 'is in array',
                ),
                9 => 
                array (
                  'text' => 'is between',
                  'value' => 'between',
                  'name' => 'is between',
                ),
              ),
              'value' => '==',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Необязательный оператор для проведения сравнения поля ресурса в "tplCondition" с массивом значений и чанков в "conditionalTpls".',
              'area_trans' => '',
            ),
            'conditionalTpls' => 
            array (
              'name' => 'conditionalTpls',
              'desc' => 'pdotools_prop_conditionalTpls',
              'type' => 'textarea',
              'options' => 
              array (
              ),
              'value' => '',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'JSON строка с массивом, у которого в ключах указано то, с чем будет сравниваться "tplCondition", а в значениях - чанки, которые будут использованы для вывода, если сравнение будет успешно. Оператор сравнения указывается в "tplOperator". Для операторов типа "isempty" можно использовать массив без ключей.',
              'area_trans' => '',
            ),
            'select' => 
            array (
              'name' => 'select',
              'desc' => 'pdotools_prop_select',
              'type' => 'textarea',
              'options' => 
              array (
              ),
              'value' => '',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Список полей для выборки, через запятую. Можно указывать JSON строку с массивом, например {"modResource":"id,pagetitle,content"}.',
              'area_trans' => '',
            ),
            'toSeparatePlaceholders' => 
            array (
              'name' => 'toSeparatePlaceholders',
              'desc' => 'pdotools_prop_toSeparatePlaceholders',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Если вы укажете слово в этом параметре, то ВСЕ результаты будут выставлены в разные плейсхолдеры, начинающиеся с этого слова и заканчивающиеся порядковым номером строки, от нуля. Например, указав в параметре "myPl", вы получите плейсхолдеры [[+myPl0]], [[+myPl1]] и т.д.',
              'area_trans' => '',
            ),
            'loadModels' => 
            array (
              'name' => 'loadModels',
              'desc' => 'pdotools_prop_loadModels',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Список компонентов, через запятую, чьи модели нужно загрузить для построения запроса. Например: "&loadModels=`ms2gallery,msearch2`".',
              'area_trans' => '',
            ),
            'scheme' => 
            array (
              'name' => 'scheme',
              'desc' => 'pdotools_prop_scheme',
              'type' => 'list',
              'options' => 
              array (
                0 => 
                array (
                  'value' => '',
                  'text' => 'System default',
                  'name' => 'System default',
                ),
                1 => 
                array (
                  'value' => -1,
                  'text' => '-1 (relative to site_url)',
                  'name' => '-1 (relative to site_url)',
                ),
                2 => 
                array (
                  'value' => 'full',
                  'text' => 'full (absolute, prepended with site_url)',
                  'name' => 'full (absolute, prepended with site_url)',
                ),
                3 => 
                array (
                  'value' => 'abs',
                  'text' => 'abs (absolute, prepended with base_url)',
                  'name' => 'abs (absolute, prepended with base_url)',
                ),
                4 => 
                array (
                  'value' => 'http',
                  'text' => 'http (absolute, forced to http scheme)',
                  'name' => 'http (absolute, forced to http scheme)',
                ),
                5 => 
                array (
                  'value' => 'https',
                  'text' => 'https (absolute, forced to https scheme)',
                  'name' => 'https (absolute, forced to https scheme)',
                ),
              ),
              'value' => '',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Схема формирования ссылок: "uri" для подстановки поля uri документа (очень быстро) или параметр для modX::makeUrl().',
              'area_trans' => '',
            ),
            'useWeblinkUrl' => 
            array (
              'name' => 'useWeblinkUrl',
              'desc' => 'pdotools_prop_useWeblinkUrl',
              'type' => 'combo-boolean',
              'options' => 
              array (
              ),
              'value' => false,
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Генерировать ссылку с учетом класса ресурса.',
              'area_trans' => '',
            ),
          ),
          'moduleguid' => '',
          'static' => false,
          'static_file' => 'core/components/pdotools/elements/snippets/snippet.pdoresources.php',
          'content' => '/** @var array $scriptProperties */
if (isset($parents) && $parents === \'\') {
    $scriptProperties[\'parents\'] = $modx->resource->id;
}
if (!empty($returnIds)) {
    $scriptProperties[\'return\'] = \'ids\';
}

// Adding extra parameters into special place so we can put them in a results
/** @var modSnippet $snippet */
$additionalPlaceholders = $properties = array();
if (isset($this) && $this instanceof modSnippet) {
    $properties = $this->get(\'properties\');
}
elseif ($snippet = $modx->getObject(\'modSnippet\', array(\'name\' => \'pdoResources\'))) {
    $properties = $snippet->get(\'properties\');
}
if (!empty($properties)) {
    foreach ($scriptProperties as $k => $v) {
        if (!isset($properties[$k])) {
            $additionalPlaceholders[$k] = $v;
        }
    }
}
$scriptProperties[\'additionalPlaceholders\'] = $additionalPlaceholders;

/** @var pdoFetch $pdoFetch */
$fqn = $modx->getOption(\'pdoFetch.class\', null, \'pdotools.pdofetch\', true);
$path = $modx->getOption(\'pdofetch_class_path\', null, MODX_CORE_PATH . \'components/pdotools/model/\', true);
if ($pdoClass = $modx->loadClass($fqn, $path, false, true)) {
    $pdoFetch = new $pdoClass($modx, $scriptProperties);
} else {
    return false;
}
$pdoFetch->addTime(\'pdoTools loaded\');
$output = $pdoFetch->run();

$log = \'\';
if ($modx->user->hasSessionContext(\'mgr\') && !empty($showLog)) {
    $log .= \'<pre class="pdoResourcesLog">\' . print_r($pdoFetch->getTime(), 1) . \'</pre>\';
}

// Return output
if (!empty($returnIds)) {
    $modx->setPlaceholder(\'pdoResources.log\', $log);
    if (!empty($toPlaceholder)) {
        $modx->setPlaceholder($toPlaceholder, $output);
    } else {
        return $output;
    }
} elseif (!empty($toSeparatePlaceholders)) {
    $output[\'log\'] = $log;
    $modx->setPlaceholders($output, $toSeparatePlaceholders);
} else {
    $output .= $log;

    if (!empty($tplWrapper) && (!empty($wrapIfEmpty) || !empty($output))) {
        $output = $pdoFetch->getChunk($tplWrapper, array_merge($additionalPlaceholders, array(\'output\' => $output)),
            $pdoFetch->config[\'fastMode\']);
    }

    if (!empty($toPlaceholder)) {
        $modx->setPlaceholder($toPlaceholder, $output);
    } else {
        return $output;
    }
}',
        ),
        'policies' => 
        array (
        ),
        'source' => 
        array (
          'id' => 1,
          'name' => 'Filesystem',
          'description' => '',
          'class_key' => 'sources.modFileMediaSource',
          'properties' => 
          array (
          ),
          'is_stream' => true,
        ),
      ),
      'dateRU' => 
      array (
        'fields' => 
        array (
          'id' => 32,
          'source' => 1,
          'property_preprocess' => false,
          'name' => 'dateRU',
          'description' => '',
          'editor_type' => 0,
          'category' => 0,
          'cache_type' => 0,
          'snippet' => '$MyDate = str_replace("January", "января", $MyDate); 
$MyDate = str_replace("February", "февраля", $MyDate);  
$MyDate = str_replace("March", "марта", $MyDate);  
$MyDate = str_replace("April", "апреля", $MyDate);  
$MyDate = str_replace("May", "мая", $MyDate);  
$MyDate = str_replace("June", "июня", $MyDate);  
$MyDate = str_replace("July", "июля", $MyDate); 
$MyDate = str_replace("August", "августа", $MyDate); 
$MyDate = str_replace("September", "сентября", $MyDate); 
$MyDate = str_replace("October", "октября", $MyDate); 
$MyDate = str_replace("November", "ноября", $MyDate); 
$MyDate = str_replace("December", "декабря", $MyDate); 
echo $MyDate;',
          'locked' => false,
          'properties' => 
          array (
          ),
          'moduleguid' => '',
          'static' => false,
          'static_file' => '',
          'content' => '$MyDate = str_replace("January", "января", $MyDate); 
$MyDate = str_replace("February", "февраля", $MyDate);  
$MyDate = str_replace("March", "марта", $MyDate);  
$MyDate = str_replace("April", "апреля", $MyDate);  
$MyDate = str_replace("May", "мая", $MyDate);  
$MyDate = str_replace("June", "июня", $MyDate);  
$MyDate = str_replace("July", "июля", $MyDate); 
$MyDate = str_replace("August", "августа", $MyDate); 
$MyDate = str_replace("September", "сентября", $MyDate); 
$MyDate = str_replace("October", "октября", $MyDate); 
$MyDate = str_replace("November", "ноября", $MyDate); 
$MyDate = str_replace("December", "декабря", $MyDate); 
echo $MyDate;',
        ),
        'policies' => 
        array (
        ),
        'source' => 
        array (
          'id' => 1,
          'name' => 'Filesystem',
          'description' => '',
          'class_key' => 'sources.modFileMediaSource',
          'properties' => 
          array (
          ),
          'is_stream' => true,
        ),
      ),
      'SimpleSearchForm' => 
      array (
        'fields' => 
        array (
          'id' => 26,
          'source' => 0,
          'property_preprocess' => false,
          'name' => 'SimpleSearchForm',
          'description' => '',
          'editor_type' => 0,
          'category' => 6,
          'cache_type' => 0,
          'snippet' => '/**
 * SimpleSearch
 *
 * Copyright 2010-11 by Shaun McCormick <shaun+sisea@modx.com>
 *
 * This file is part of SimpleSearch, a simple search component for MODx
 * Revolution. It is loosely based off of AjaxSearch for MODx Evolution by
 * coroico/kylej, minus the ajax.
 *
 * SimpleSearch is free software; you can redistribute it and/or modify it under
 * the terms of the GNU General Public License as published by the Free Software
 * Foundation; either version 2 of the License, or (at your option) any later
 * version.
 *
 * SimpleSearch is distributed in the hope that it will be useful, but WITHOUT
 * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
 * FOR A PARTICULAR PURPOSE. See the GNU General Public License for more
 * details.
 *
 * You should have received a copy of the GNU General Public License along with
 * SimpleSearch; if not, write to the Free Software Foundation, Inc., 59 Temple Place,
 * Suite 330, Boston, MA 02111-1307 USA
 *
 * @package simplesearch
 */
/**
 * Show the search form
 *
 * @var modX $modx
 * @var array $scriptProperties
 * @package simplesearch
 */
require_once $modx->getOption(\'sisea.core_path\',null,$modx->getOption(\'core_path\').\'components/simplesearch/\').\'model/simplesearch/simplesearch.class.php\';
$search = new SimpleSearch($modx,$scriptProperties);

/* setup default options */
$scriptProperties = array_merge(array(
  \'tpl\' => \'SearchForm\',
  \'method\' => \'get\',
  \'searchIndex\' => \'search\',
  \'toPlaceholder\' => false,
  \'landing\' => $modx->resource->get(\'id\'),
), $scriptProperties);

if (empty($scriptProperties[\'landing\'])) {
  $scriptProperties[\'landing\'] = $modx->resource->get(\'id\');
}

/* if get value already exists, set it as default */
$searchValue = isset($_REQUEST[$scriptProperties[\'searchIndex\']]) ? $_REQUEST[$scriptProperties[\'searchIndex\']] : \'\';
$searchValues = explode(\' \', $searchValue);
array_map(array($modx, \'sanitizeString\'), $searchValues);
$searchValue = implode(\' \', $searchValues);
$placeholders = array(
    \'method\' => $scriptProperties[\'method\'],
    \'landing\' => $scriptProperties[\'landing\'],
    \'searchValue\' => strip_tags(str_replace(array(\'[\',\']\',\'"\',"\'"),array(\'&#91;\',\'&#93;\',\'&quot;\',\'&apos;\'),$searchValue)),
    \'searchIndex\' => $scriptProperties[\'searchIndex\'],
);

$output = $search->getChunk($scriptProperties[\'tpl\'],$placeholders);
return $search->output($output,$scriptProperties[\'toPlaceholder\']);',
          'locked' => false,
          'properties' => 
          array (
            'tpl' => 
            array (
              'name' => 'tpl',
              'desc' => 'sisea.tpl_form_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => 'SearchForm',
              'lexicon' => 'sisea:properties',
              'area' => '',
              'desc_trans' => 'Чанк, который будет использоваться как шаблон для отображения формы поиска.',
              'area_trans' => '',
            ),
            'landing' => 
            array (
              'name' => 'landing',
              'desc' => 'sisea.landing_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '',
              'lexicon' => 'sisea:properties',
              'area' => '',
              'desc_trans' => 'Ресурс на котором будет вызов сниппета SimpleSearch отображающий результаты поиска.',
              'area_trans' => '',
            ),
            'searchIndex' => 
            array (
              'name' => 'searchIndex',
              'desc' => 'sisea.searchindex_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => 'search',
              'lexicon' => 'sisea:properties',
              'area' => '',
              'desc_trans' => 'Имя параметра который будет использоваться для передачи поискового запроса.',
              'area_trans' => '',
            ),
            'method' => 
            array (
              'name' => 'method',
              'desc' => 'sisea.method_desc',
              'type' => 'combo-boolean',
              'options' => 
              array (
                0 => 
                array (
                  'text' => 'sisea.get',
                  'value' => 'get',
                  'name' => 'get',
                ),
                1 => 
                array (
                  'text' => 'sisea.post',
                  'value' => 'post',
                  'name' => 'post',
                ),
              ),
              'value' => 'get',
              'lexicon' => 'sisea:properties',
              'area' => '',
              'desc_trans' => 'Какой метод будет использован в форме поиска, POST или GET.',
              'area_trans' => '',
            ),
            'toPlaceholder' => 
            array (
              'name' => 'toPlaceholder',
              'desc' => 'sisea.toplaceholder_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '',
              'lexicon' => 'sisea:properties',
              'area' => '',
              'desc_trans' => 'Выводить результат работы сниппета непосредственно, или использовать для вывода подстановщик с этим именем.',
              'area_trans' => '',
            ),
          ),
          'moduleguid' => '',
          'static' => false,
          'static_file' => '',
          'content' => '/**
 * SimpleSearch
 *
 * Copyright 2010-11 by Shaun McCormick <shaun+sisea@modx.com>
 *
 * This file is part of SimpleSearch, a simple search component for MODx
 * Revolution. It is loosely based off of AjaxSearch for MODx Evolution by
 * coroico/kylej, minus the ajax.
 *
 * SimpleSearch is free software; you can redistribute it and/or modify it under
 * the terms of the GNU General Public License as published by the Free Software
 * Foundation; either version 2 of the License, or (at your option) any later
 * version.
 *
 * SimpleSearch is distributed in the hope that it will be useful, but WITHOUT
 * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
 * FOR A PARTICULAR PURPOSE. See the GNU General Public License for more
 * details.
 *
 * You should have received a copy of the GNU General Public License along with
 * SimpleSearch; if not, write to the Free Software Foundation, Inc., 59 Temple Place,
 * Suite 330, Boston, MA 02111-1307 USA
 *
 * @package simplesearch
 */
/**
 * Show the search form
 *
 * @var modX $modx
 * @var array $scriptProperties
 * @package simplesearch
 */
require_once $modx->getOption(\'sisea.core_path\',null,$modx->getOption(\'core_path\').\'components/simplesearch/\').\'model/simplesearch/simplesearch.class.php\';
$search = new SimpleSearch($modx,$scriptProperties);

/* setup default options */
$scriptProperties = array_merge(array(
  \'tpl\' => \'SearchForm\',
  \'method\' => \'get\',
  \'searchIndex\' => \'search\',
  \'toPlaceholder\' => false,
  \'landing\' => $modx->resource->get(\'id\'),
), $scriptProperties);

if (empty($scriptProperties[\'landing\'])) {
  $scriptProperties[\'landing\'] = $modx->resource->get(\'id\');
}

/* if get value already exists, set it as default */
$searchValue = isset($_REQUEST[$scriptProperties[\'searchIndex\']]) ? $_REQUEST[$scriptProperties[\'searchIndex\']] : \'\';
$searchValues = explode(\' \', $searchValue);
array_map(array($modx, \'sanitizeString\'), $searchValues);
$searchValue = implode(\' \', $searchValues);
$placeholders = array(
    \'method\' => $scriptProperties[\'method\'],
    \'landing\' => $scriptProperties[\'landing\'],
    \'searchValue\' => strip_tags(str_replace(array(\'[\',\']\',\'"\',"\'"),array(\'&#91;\',\'&#93;\',\'&quot;\',\'&apos;\'),$searchValue)),
    \'searchIndex\' => $scriptProperties[\'searchIndex\'],
);

$output = $search->getChunk($scriptProperties[\'tpl\'],$placeholders);
return $search->output($output,$scriptProperties[\'toPlaceholder\']);',
        ),
        'policies' => 
        array (
        ),
        'source' => 
        array (
        ),
      ),
      'tagLister' => 
      array (
        'fields' => 
        array (
          'id' => 28,
          'source' => 0,
          'property_preprocess' => false,
          'name' => 'tagLister',
          'description' => 'A simple tag listing snippet that grabs tags from a TV value.',
          'editor_type' => 0,
          'category' => 7,
          'cache_type' => 0,
          'snippet' => '/**
 * tagLister
 *
 * Copyright 2010 by Shaun McCormick <shaun@modxcms.com>
 *
 * This file is part of tagLister, a simple tag listing snippet for MODx
 * Revolution.
 *
 * tagLister is free software; you can redistribute it and/or modify it under
 * the terms of the GNU General Public License as published by the Free Software
 * Foundation; either version 2 of the License, or (at your option) any later
 * version.
 *
 * tagLister is distributed in the hope that it will be useful, but WITHOUT
 * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
 * FOR A PARTICULAR PURPOSE. See the GNU General Public License for more
 * details.
 *
 * You should have received a copy of the GNU General Public License along with
 * tagLister; if not, write to the Free Software Foundation, Inc., 59 Temple
 * Place, Suite 330, Boston, MA 02111-1307 USA
 *
 * @package taglister
 */
/**
 * tagLister snippet
 *
 * @var modX $modx
 * @var TagLister $tagLister
 * @var array $scriptProperties
 *
 * @package taglister
 */
$tagLister = $modx->getService(\'taglister\',\'TagLister\',$modx->getOption(\'taglister.core_path\',null,$modx->getOption(\'core_path\').\'components/taglister/\').\'model/taglister/\',$scriptProperties);
if (!($tagLister instanceof TagLister)) return \'\';
$modx->lexicon->load(\'taglister:default\');

/* setup default properties */
$tpl = $modx->getOption(\'tpl\',$scriptProperties,\'tag\');
$tv = $modx->getOption(\'tv\',$scriptProperties,\'tags\');
$tvDelimiter = $modx->getOption(\'tvDelimiter\',$scriptProperties,\',\');
$target = $modx->getOption(\'target\',$scriptProperties,1);
$tagVar = $modx->getOption(\'tagVar\',$scriptProperties,\'tag\');
$tagKeyVar = $modx->getOption(\'tagKeyVar\',$scriptProperties,\'key\');
$limit = $modx->getOption(\'limit\',$scriptProperties,10);
$sortBy = strtolower($modx->getOption(\'sortBy\',$scriptProperties,\'count\'));
$sortDir = strtoupper($modx->getOption(\'sortDir\',$scriptProperties,\'ASC\'));
$cls = $modx->getOption(\'cls\',$scriptProperties,\'\');
$altCls = $modx->getOption(\'altCls\',$scriptProperties,\'\');
$firstCls = $modx->getOption(\'firstCls\',$scriptProperties,\'\');
$lastCls = $modx->getOption(\'lastCls\',$scriptProperties,\'\');
$activeCls = $modx->getOption(\'activeCls\',$scriptProperties,\'\');
$activeTag = isset($_REQUEST[$tagVar]) ? $modx->stripTags(urldecode($_REQUEST[$tagVar])) : \'\';
$activeKey = isset($_REQUEST[$tagKeyVar]) ? $modx->stripTags(urldecode($_REQUEST[$tagKeyVar])) : \'\';
$all = $modx->getOption(\'all\',$scriptProperties,false);
$toLower = $modx->getOption(\'toLower\',$scriptProperties,false);
$weights = $modx->getOption(\'weights\',$scriptProperties,0);
$weightCls = $modx->getOption(\'weightCls\',$scriptProperties,\'\');
$useTagFurl = $modx->getOption(\'useTagFurl\',$scriptProperties,false);
$furlKey = $modx->getOption(\'furlKey\',$scriptProperties,\'tags\');


/* get TV values */
$c = $modx->newQuery(\'modTemplateVarResource\');
$c->innerJoin(\'modTemplateVar\',\'TemplateVar\');
$c->innerJoin(\'modResource\',\'Resource\');
$c->leftJoin(\'modUser\',\'CreatedBy\',\'CreatedBy.id = Resource.createdby\');
$c->leftJoin(\'modUser\',\'PublishedBy\',\'PublishedBy.id = Resource.publishedby\');
$c->leftJoin(\'modUser\',\'EditedBy\',\'EditedBy.id = Resource.editedby\');
$tvPk = (int)$tv;
if (!empty($tvPk)) {
    $c->where(array(\'TemplateVar.id\' => $tvPk));
} else {
    $c->where(array(\'TemplateVar.name\' => $tv));
}
/* parents support */
$parents = isset($parents) ? explode(\',\', $parents) : array();
if (!empty($parents)) {
    $depth = isset($depth) ? (integer) $depth : 10;
    $children = array();
    foreach ($parents as $parent) {
        $kids = $modx->getChildIds($parent,$depth);
        if (!empty($kids)) {
            $children = array_merge($children,$kids);
        }
    }
    if (!empty($children)) {
        $children = array_unique($children);
        $parents = array_merge($parents,$children);
    }
    $parents = array_unique($parents);
    if (!empty($parents)) {
        $c->where(array(
            \'Resource.id:IN\' => $parents,
        ));
    }
}
if (!$modx->getOption(\'includeDeleted\',$scriptProperties,false)) {
    $c->where(array(\'Resource.deleted\' => 0));
}
if (!$modx->getOption(\'includeUnpublished\',$scriptProperties,false)) {
    $c->where(array(\'Resource.published\' => 1));
}
/* json where support */
$where = $modx->getOption(\'where\',$scriptProperties,\'\');
if (!empty($where)) {
    $where = $modx->fromJSON($where);
    if (is_array($where) && !empty($where)) {
        $c->where($where);
    }
}
if ($sortBy == \'publishedon\') {
    $c->sortby(\'Resource.publishedon\',$sortDir);
} else if (in_array($sortBy,array(\'rand\',\'random\',\'rand()\'))) {
    $c->sortby(\'RAND()\',\'\');
}
$tags = $modx->getCollection(\'modTemplateVarResource\',$c);

/* parse TV values */
$output = array();
$tagList = array();
$encoding = $modx->getOption(\'modx_charset\',$scriptProperties,\'UTF-8\');
$useMultibyte = $modx->getOption(\'use_multibyte\',$scriptProperties,false);
/** @var modTemplateVarResource $tag */
foreach ($tags as $tag) {
   $v = $tag->get(\'value\');
   $vs = explode($tvDelimiter,$v);
   foreach ($vs as $key) {
      $key = trim($key);
      if (empty($key)) continue;
      if ($toLower) { /* allow for case-insensitive filtering */
          $key = $useMultibyte ? mb_strtolower($key,$encoding) : strtolower($key);
      }
      /* increment tag count */
      if (empty($tagList[$key])) {
         $tagList[$key] = 1;
      } else { $tagList[$key]++; }
   }
}

/* sort */
switch ($sortBy.\'-\'.$sortDir) {
    case \'publishedon-DESC\': case \'publishedon-ASC\': break;
    case \'tag-ASC\': ksort($tagList); break;
    case \'tag-DESC\': krsort($tagList); break;
    case \'count-DESC\': asort($tagList); break;
    case \'count-ASC\': default: arsort($tagList); break;
    case \'rand-ASC\': case \'random-ASC\': case \'rand()-asc\': $tagList = $tagLister->ashuffle($tagList); break;
}

/* iterate */
$totalTags = 0;
$i = $all ? 1 : 0;
foreach ($tagList as $tag => $count) {
    if ($i >= $limit) break;
    $tagCls = $cls.((!empty($altCls) && $i % 2)? \' \'.$altCls : \'\');
    if (!empty($firstCls) && $i == 0) $tagCls .= \' \'.$firstCls;
    if (!empty($lastCls) && ($i+1 >= $limit || $i == $count)) $tagCls .= \' \'.$lastCls;
    /* if tag is currently being viewed, mark as active */
    if (!empty($activeCls) && $tag==$activeTag && (empty($activeKey) || $tv==$activeKey)) $tagCls .= \' \'.$activeCls;
    /* handle weighting for css */
    if (!empty($weights) && !empty($weightCls)) $tagCls .= \' \'.$weightCls.ceil($count / (max($tagList) / $weights));

    $tagArray = array(
        \'tag\' => $tag,
        \'tagVar\' => $tagVar,
        \'tagKey\' => $tv,
        \'tagKeyVar\' => $tagKeyVar,
        \'count\' => $count,
        \'target\' => $target,
        \'cls\' => $tagCls,
        \'idx\' => $i,
    );
    $tagParams = array();
    if (empty($useTagFurl)) {
        $tagParams[$tagVar] = $tag;
        $tagParams[$tagKeyVar] = $tv;
    }
    $tagArray[\'url\'] = $modx->makeUrl($target,\'\',$tagParams);
    if (!empty($useTagFurl)) {
        $tagArray[\'url\'] = rtrim($tagArray[\'url\'],\'/\').\'/\'.(!empty($furlKey) ? $furlKey : $tv).\'/\'.urlencode($tag);
    }

    $output[] = $tagLister->getChunk($tpl,$tagArray);
    $totalTags += $count;
    $i++;
}

if ($all) {
    $allTpl = $modx->getOption(\'allTpl\',$scriptProperties,\'all\');
    $allChunk = $tagLister->getChunk($allTpl,array(
        \'tag\' => !empty($scriptProperties[\'allText\']) ? $scriptProperties[\'allText\'] : $modx->lexicon(\'all_tags\'),
        \'tagVar\' => $tagVar,
        \'tagKey\' => $tv,
        \'tagKeyVar\' => $tagKeyVar,
        \'count\' => $totalTags,
        \'target\' => $target,
        \'cls\' => $cls,
        \'url\' => $useTagFurl ? $modx->makeUrl($target).$tv.\'/\' : $modx->makeUrl($target,\'\',array(
            $tagVar => \'\',
            $tagKeyVar => $tv,
        )),
    ));
    if ($modx->getOption(\'allPosition\',$scriptProperties,\'B\') == \'T\') {
        array_unshift($output,$allChunk);
    } else {
        array_push($output,$allChunk);
    }
}

/* output */
$outputSeparator = $modx->getOption(\'outputSeparator\',$scriptProperties,"\\n");
$output = implode($outputSeparator,$output);
$toPlaceholder = $modx->getOption(\'toPlaceholder\',$scriptProperties,false);
if (!empty($toPlaceholder)) {
    $modx->setPlaceholder($toPlaceholder,$output);
    return \'\';
}
return $output;',
          'locked' => false,
          'properties' => 
          array (
            'tpl' => 
            array (
              'name' => 'tpl',
              'desc' => 'prop_taglister.tpl_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => 'tag',
              'lexicon' => 'taglister:properties',
              'area' => '',
              'desc_trans' => 'Name of a Chunk that will be used for each result.',
              'area_trans' => '',
            ),
            'tv' => 
            array (
              'name' => 'tv',
              'desc' => 'prop_taglister.tv_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => 'tags',
              'lexicon' => 'taglister:properties',
              'area' => '',
              'desc_trans' => 'The name or ID of the TV being used for tags.',
              'area_trans' => '',
            ),
            'tvDelimiter' => 
            array (
              'name' => 'tvDelimiter',
              'desc' => 'prop_taglister.tvdelimiter_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => ',',
              'lexicon' => 'taglister:properties',
              'area' => '',
              'desc_trans' => 'The delimiter being used between tags in the TV. Usually a comma, sometimes a space.',
              'area_trans' => '',
            ),
            'target' => 
            array (
              'name' => 'target',
              'desc' => 'prop_taglister.target_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '',
              'lexicon' => 'taglister:properties',
              'area' => '',
              'desc_trans' => 'The target Resource to point the tag links to. Will default to the current Resource.',
              'area_trans' => '',
            ),
            'tagVar' => 
            array (
              'name' => 'tagVar',
              'desc' => 'prop_taglister.tagvar_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => 'tag',
              'lexicon' => 'taglister:properties',
              'area' => '',
              'desc_trans' => 'The REQUEST var of the tag value. Used in the links generated for each tag result.',
              'area_trans' => '',
            ),
            'tagKeyVar' => 
            array (
              'name' => 'tagKeyVar',
              'desc' => 'prop_taglister.tagkeyvar_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => 'key',
              'lexicon' => 'taglister:properties',
              'area' => '',
              'desc_trans' => 'The REQUEST var of the tv name. Used in the links generated for each tag result',
              'area_trans' => '',
            ),
            'sortBy' => 
            array (
              'name' => 'sortBy',
              'desc' => 'prop_taglister.sortby_desc',
              'type' => 'list',
              'options' => 
              array (
                0 => 
                array (
                  'text' => 'count',
                  'value' => 'count',
                  'name' => 'Count',
                ),
                1 => 
                array (
                  'text' => 'tag',
                  'value' => 'tag',
                  'name' => 'Tag',
                ),
              ),
              'value' => 'count',
              'lexicon' => 'taglister:properties',
              'area' => '',
              'desc_trans' => 'Field to sort by. Defaults to count. Can be either tag or count.',
              'area_trans' => '',
            ),
            'sortDir' => 
            array (
              'name' => 'sortDir',
              'desc' => 'prop_taglister.sortdir_desc',
              'type' => 'list',
              'options' => 
              array (
                0 => 
                array (
                  'text' => 'ascending',
                  'vaue' => 'ASC',
                  'name' => 'Ascending',
                ),
                1 => 
                array (
                  'text' => 'descending',
                  'value' => 'DESC',
                  'name' => 'Descending',
                ),
              ),
              'value' => 'ASC',
              'lexicon' => 'taglister:properties',
              'area' => '',
              'desc_trans' => 'Order which to sort by. Defaults to ASC.',
              'area_trans' => '',
            ),
            'limit' => 
            array (
              'name' => 'limit',
              'desc' => 'prop_taglister.limit_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => 10,
              'lexicon' => 'taglister:properties',
              'area' => '',
              'desc_trans' => 'Limits the number of resources returned. Defaults to 10.',
              'area_trans' => '',
            ),
            'parents' => 
            array (
              'name' => 'parents',
              'desc' => 'prop_taglister.parents_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '',
              'lexicon' => 'taglister:properties',
              'area' => '',
              'desc_trans' => 'Optional. Comma-delimited list of ids serving as parents.',
              'area_trans' => '',
            ),
            'depth' => 
            array (
              'name' => 'depth',
              'desc' => 'prop_taglister.depth_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => 10,
              'lexicon' => 'taglister:properties',
              'area' => '',
              'desc_trans' => 'Integer value indicating depth to search for resources from each parent. Defaults to 10.',
              'area_trans' => '',
            ),
            'includeDeleted' => 
            array (
              'name' => 'includeDeleted',
              'desc' => 'prop_taglister.includedeleted_desc',
              'type' => 'combo-boolean',
              'options' => '',
              'value' => false,
              'lexicon' => 'taglister:properties',
              'area' => '',
              'desc_trans' => 'Include tags from deleted Resources in the results.',
              'area_trans' => '',
            ),
            'includeUnpublished' => 
            array (
              'name' => 'includeUnpublished',
              'desc' => 'prop_taglister.includeunpublished_desc',
              'type' => 'combo-boolean',
              'options' => '',
              'value' => false,
              'lexicon' => 'taglister:properties',
              'area' => '',
              'desc_trans' => 'Include tags from unpublished Resources in the results.',
              'area_trans' => '',
            ),
            'where' => 
            array (
              'name' => 'where',
              'desc' => 'prop_taglister.where_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '',
              'lexicon' => 'taglister:properties',
              'area' => '',
              'desc_trans' => 'A criteria in JSON format for filtering results.',
              'area_trans' => '',
            ),
            'cls' => 
            array (
              'name' => 'cls',
              'desc' => 'prop_taglister.cls_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => 'tl-tag',
              'lexicon' => 'taglister:properties',
              'area' => '',
              'desc_trans' => 'Optional. A CSS class to add to each row. If empty will ignore.',
              'area_trans' => '',
            ),
            'altCls' => 
            array (
              'name' => 'altCls',
              'desc' => 'prop_taglister.altcls_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => 'tl-tag-alt',
              'lexicon' => 'taglister:properties',
              'area' => '',
              'desc_trans' => 'Optional. A CSS class to add to each alternate row. If empty will ignore.',
              'area_trans' => '',
            ),
            'firstCls' => 
            array (
              'name' => 'firstCls',
              'desc' => 'prop_taglister.firstcls_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '',
              'lexicon' => 'taglister:properties',
              'area' => '',
              'desc_trans' => 'Optional. A CSS class to add to the first row. If empty will ignore.',
              'area_trans' => '',
            ),
            'lastCls' => 
            array (
              'name' => 'lastCls',
              'desc' => 'prop_taglister.lastcls_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '',
              'lexicon' => 'taglister:properties',
              'area' => '',
              'desc_trans' => 'Optional. A CSS class to add to the last row. If empty will ignore.',
              'area_trans' => '',
            ),
            'toLower' => 
            array (
              'name' => 'toLower',
              'desc' => 'prop_taglister.tolower_desc',
              'type' => 'combo-boolean',
              'options' => '',
              'value' => false,
              'lexicon' => 'taglister:properties',
              'area' => '',
              'desc_trans' => 'Optional. If set to true, will allow case-insensitive tag listing.',
              'area_trans' => '',
            ),
            'all' => 
            array (
              'name' => 'all',
              'desc' => 'prop_taglister.all_desc',
              'type' => 'combo-boolean',
              'options' => '',
              'value' => false,
              'lexicon' => 'taglister:properties',
              'area' => '',
              'desc_trans' => 'Whether or not to show an "All Tags" result.',
              'area_trans' => '',
            ),
            'allTpl' => 
            array (
              'name' => 'allTpl',
              'desc' => 'prop_taglister.alltpl_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => 'all',
              'lexicon' => 'taglister:properties',
              'area' => '',
              'desc_trans' => 'The chunk for showing the all tags link.',
              'area_trans' => '',
            ),
            'allPosition' => 
            array (
              'name' => 'allPosition',
              'desc' => 'prop_taglister.allposition_desc',
              'type' => 'list',
              'options' => 
              array (
                0 => 
                array (
                  'text' => 'bottom',
                  'value' => 'B',
                  'name' => 'Bottom',
                ),
                1 => 
                array (
                  'text' => 'top',
                  'value' => 'T',
                  'name' => 'Top',
                ),
              ),
              'value' => 'B',
              'lexicon' => 'taglister:properties',
              'area' => '',
              'desc_trans' => 'Whether or not the all tags link should be at the top (T) or bottom (B) of the results.',
              'area_trans' => '',
            ),
            'allText' => 
            array (
              'name' => 'allText',
              'desc' => 'prop_taglister.alltext_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '',
              'lexicon' => 'taglister:properties',
              'area' => '',
              'desc_trans' => 'The text for the all tags link. Defaults to "All Tags".',
              'area_trans' => '',
            ),
            'toPlaceholder' => 
            array (
              'name' => 'toPlaceholder',
              'desc' => 'prop_taglister.toplaceholder_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '',
              'lexicon' => 'taglister:properties',
              'area' => '',
              'desc_trans' => 'If set, will set the output of this snippet to this placeholder rather than output it.',
              'area_trans' => '',
            ),
            'outputSeparator' => 
            array (
              'name' => 'outputSeparator',
              'desc' => 'prop_taglister.outputseparator_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '
',
              'lexicon' => 'taglister:properties',
              'area' => '',
              'desc_trans' => 'The separator for output for each result.',
              'area_trans' => '',
            ),
            'activeCls' => 
            array (
              'name' => 'activeCls',
              'desc' => 'prop_taglister.activecls_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '',
              'lexicon' => 'taglister:properties',
              'area' => '',
              'desc_trans' => 'Optional. A CSS class to add to the active tag. If empty will ignore.',
              'area_trans' => '',
            ),
            'weightCls' => 
            array (
              'name' => 'weightCls',
              'desc' => 'prop_taglister.weightcls_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => 'tl-tag-weight',
              'lexicon' => 'taglister:properties',
              'area' => '',
              'desc_trans' => 'Optional. A CSS class to prefix to each weight. If empty will disable weights.',
              'area_trans' => '',
            ),
            'weights' => 
            array (
              'name' => 'weights',
              'desc' => 'prop_taglister.weights_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '5',
              'lexicon' => 'taglister:properties',
              'area' => '',
              'desc_trans' => 'Optional. The number of weights to calculate. 0 or empty will disable weights.',
              'area_trans' => '',
            ),
          ),
          'moduleguid' => '',
          'static' => false,
          'static_file' => '',
          'content' => '/**
 * tagLister
 *
 * Copyright 2010 by Shaun McCormick <shaun@modxcms.com>
 *
 * This file is part of tagLister, a simple tag listing snippet for MODx
 * Revolution.
 *
 * tagLister is free software; you can redistribute it and/or modify it under
 * the terms of the GNU General Public License as published by the Free Software
 * Foundation; either version 2 of the License, or (at your option) any later
 * version.
 *
 * tagLister is distributed in the hope that it will be useful, but WITHOUT
 * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
 * FOR A PARTICULAR PURPOSE. See the GNU General Public License for more
 * details.
 *
 * You should have received a copy of the GNU General Public License along with
 * tagLister; if not, write to the Free Software Foundation, Inc., 59 Temple
 * Place, Suite 330, Boston, MA 02111-1307 USA
 *
 * @package taglister
 */
/**
 * tagLister snippet
 *
 * @var modX $modx
 * @var TagLister $tagLister
 * @var array $scriptProperties
 *
 * @package taglister
 */
$tagLister = $modx->getService(\'taglister\',\'TagLister\',$modx->getOption(\'taglister.core_path\',null,$modx->getOption(\'core_path\').\'components/taglister/\').\'model/taglister/\',$scriptProperties);
if (!($tagLister instanceof TagLister)) return \'\';
$modx->lexicon->load(\'taglister:default\');

/* setup default properties */
$tpl = $modx->getOption(\'tpl\',$scriptProperties,\'tag\');
$tv = $modx->getOption(\'tv\',$scriptProperties,\'tags\');
$tvDelimiter = $modx->getOption(\'tvDelimiter\',$scriptProperties,\',\');
$target = $modx->getOption(\'target\',$scriptProperties,1);
$tagVar = $modx->getOption(\'tagVar\',$scriptProperties,\'tag\');
$tagKeyVar = $modx->getOption(\'tagKeyVar\',$scriptProperties,\'key\');
$limit = $modx->getOption(\'limit\',$scriptProperties,10);
$sortBy = strtolower($modx->getOption(\'sortBy\',$scriptProperties,\'count\'));
$sortDir = strtoupper($modx->getOption(\'sortDir\',$scriptProperties,\'ASC\'));
$cls = $modx->getOption(\'cls\',$scriptProperties,\'\');
$altCls = $modx->getOption(\'altCls\',$scriptProperties,\'\');
$firstCls = $modx->getOption(\'firstCls\',$scriptProperties,\'\');
$lastCls = $modx->getOption(\'lastCls\',$scriptProperties,\'\');
$activeCls = $modx->getOption(\'activeCls\',$scriptProperties,\'\');
$activeTag = isset($_REQUEST[$tagVar]) ? $modx->stripTags(urldecode($_REQUEST[$tagVar])) : \'\';
$activeKey = isset($_REQUEST[$tagKeyVar]) ? $modx->stripTags(urldecode($_REQUEST[$tagKeyVar])) : \'\';
$all = $modx->getOption(\'all\',$scriptProperties,false);
$toLower = $modx->getOption(\'toLower\',$scriptProperties,false);
$weights = $modx->getOption(\'weights\',$scriptProperties,0);
$weightCls = $modx->getOption(\'weightCls\',$scriptProperties,\'\');
$useTagFurl = $modx->getOption(\'useTagFurl\',$scriptProperties,false);
$furlKey = $modx->getOption(\'furlKey\',$scriptProperties,\'tags\');


/* get TV values */
$c = $modx->newQuery(\'modTemplateVarResource\');
$c->innerJoin(\'modTemplateVar\',\'TemplateVar\');
$c->innerJoin(\'modResource\',\'Resource\');
$c->leftJoin(\'modUser\',\'CreatedBy\',\'CreatedBy.id = Resource.createdby\');
$c->leftJoin(\'modUser\',\'PublishedBy\',\'PublishedBy.id = Resource.publishedby\');
$c->leftJoin(\'modUser\',\'EditedBy\',\'EditedBy.id = Resource.editedby\');
$tvPk = (int)$tv;
if (!empty($tvPk)) {
    $c->where(array(\'TemplateVar.id\' => $tvPk));
} else {
    $c->where(array(\'TemplateVar.name\' => $tv));
}
/* parents support */
$parents = isset($parents) ? explode(\',\', $parents) : array();
if (!empty($parents)) {
    $depth = isset($depth) ? (integer) $depth : 10;
    $children = array();
    foreach ($parents as $parent) {
        $kids = $modx->getChildIds($parent,$depth);
        if (!empty($kids)) {
            $children = array_merge($children,$kids);
        }
    }
    if (!empty($children)) {
        $children = array_unique($children);
        $parents = array_merge($parents,$children);
    }
    $parents = array_unique($parents);
    if (!empty($parents)) {
        $c->where(array(
            \'Resource.id:IN\' => $parents,
        ));
    }
}
if (!$modx->getOption(\'includeDeleted\',$scriptProperties,false)) {
    $c->where(array(\'Resource.deleted\' => 0));
}
if (!$modx->getOption(\'includeUnpublished\',$scriptProperties,false)) {
    $c->where(array(\'Resource.published\' => 1));
}
/* json where support */
$where = $modx->getOption(\'where\',$scriptProperties,\'\');
if (!empty($where)) {
    $where = $modx->fromJSON($where);
    if (is_array($where) && !empty($where)) {
        $c->where($where);
    }
}
if ($sortBy == \'publishedon\') {
    $c->sortby(\'Resource.publishedon\',$sortDir);
} else if (in_array($sortBy,array(\'rand\',\'random\',\'rand()\'))) {
    $c->sortby(\'RAND()\',\'\');
}
$tags = $modx->getCollection(\'modTemplateVarResource\',$c);

/* parse TV values */
$output = array();
$tagList = array();
$encoding = $modx->getOption(\'modx_charset\',$scriptProperties,\'UTF-8\');
$useMultibyte = $modx->getOption(\'use_multibyte\',$scriptProperties,false);
/** @var modTemplateVarResource $tag */
foreach ($tags as $tag) {
   $v = $tag->get(\'value\');
   $vs = explode($tvDelimiter,$v);
   foreach ($vs as $key) {
      $key = trim($key);
      if (empty($key)) continue;
      if ($toLower) { /* allow for case-insensitive filtering */
          $key = $useMultibyte ? mb_strtolower($key,$encoding) : strtolower($key);
      }
      /* increment tag count */
      if (empty($tagList[$key])) {
         $tagList[$key] = 1;
      } else { $tagList[$key]++; }
   }
}

/* sort */
switch ($sortBy.\'-\'.$sortDir) {
    case \'publishedon-DESC\': case \'publishedon-ASC\': break;
    case \'tag-ASC\': ksort($tagList); break;
    case \'tag-DESC\': krsort($tagList); break;
    case \'count-DESC\': asort($tagList); break;
    case \'count-ASC\': default: arsort($tagList); break;
    case \'rand-ASC\': case \'random-ASC\': case \'rand()-asc\': $tagList = $tagLister->ashuffle($tagList); break;
}

/* iterate */
$totalTags = 0;
$i = $all ? 1 : 0;
foreach ($tagList as $tag => $count) {
    if ($i >= $limit) break;
    $tagCls = $cls.((!empty($altCls) && $i % 2)? \' \'.$altCls : \'\');
    if (!empty($firstCls) && $i == 0) $tagCls .= \' \'.$firstCls;
    if (!empty($lastCls) && ($i+1 >= $limit || $i == $count)) $tagCls .= \' \'.$lastCls;
    /* if tag is currently being viewed, mark as active */
    if (!empty($activeCls) && $tag==$activeTag && (empty($activeKey) || $tv==$activeKey)) $tagCls .= \' \'.$activeCls;
    /* handle weighting for css */
    if (!empty($weights) && !empty($weightCls)) $tagCls .= \' \'.$weightCls.ceil($count / (max($tagList) / $weights));

    $tagArray = array(
        \'tag\' => $tag,
        \'tagVar\' => $tagVar,
        \'tagKey\' => $tv,
        \'tagKeyVar\' => $tagKeyVar,
        \'count\' => $count,
        \'target\' => $target,
        \'cls\' => $tagCls,
        \'idx\' => $i,
    );
    $tagParams = array();
    if (empty($useTagFurl)) {
        $tagParams[$tagVar] = $tag;
        $tagParams[$tagKeyVar] = $tv;
    }
    $tagArray[\'url\'] = $modx->makeUrl($target,\'\',$tagParams);
    if (!empty($useTagFurl)) {
        $tagArray[\'url\'] = rtrim($tagArray[\'url\'],\'/\').\'/\'.(!empty($furlKey) ? $furlKey : $tv).\'/\'.urlencode($tag);
    }

    $output[] = $tagLister->getChunk($tpl,$tagArray);
    $totalTags += $count;
    $i++;
}

if ($all) {
    $allTpl = $modx->getOption(\'allTpl\',$scriptProperties,\'all\');
    $allChunk = $tagLister->getChunk($allTpl,array(
        \'tag\' => !empty($scriptProperties[\'allText\']) ? $scriptProperties[\'allText\'] : $modx->lexicon(\'all_tags\'),
        \'tagVar\' => $tagVar,
        \'tagKey\' => $tv,
        \'tagKeyVar\' => $tagKeyVar,
        \'count\' => $totalTags,
        \'target\' => $target,
        \'cls\' => $cls,
        \'url\' => $useTagFurl ? $modx->makeUrl($target).$tv.\'/\' : $modx->makeUrl($target,\'\',array(
            $tagVar => \'\',
            $tagKeyVar => $tv,
        )),
    ));
    if ($modx->getOption(\'allPosition\',$scriptProperties,\'B\') == \'T\') {
        array_unshift($output,$allChunk);
    } else {
        array_push($output,$allChunk);
    }
}

/* output */
$outputSeparator = $modx->getOption(\'outputSeparator\',$scriptProperties,"\\n");
$output = implode($outputSeparator,$output);
$toPlaceholder = $modx->getOption(\'toPlaceholder\',$scriptProperties,false);
if (!empty($toPlaceholder)) {
    $modx->setPlaceholder($toPlaceholder,$output);
    return \'\';
}
return $output;',
        ),
        'policies' => 
        array (
        ),
        'source' => 
        array (
        ),
      ),
      'HitsPage' => 
      array (
        'fields' => 
        array (
          'id' => 23,
          'source' => 1,
          'property_preprocess' => false,
          'name' => 'HitsPage',
          'description' => 'Snippet HitsPage Pageviews for MODX Revolution',
          'editor_type' => 0,
          'category' => 5,
          'cache_type' => 0,
          'snippet' => '/**
 * This file is extra HitsPage Pageviews for MODX Revolution.
 *
 * @copyright Copyright (C) 2013, Artdevue Ltd, <info@artdevue.com>
 * @author Valentin Rasulov <info@artdevue.com>
 * @license http://opensource.org/licenses/gpl-2.0.php GNU Public License v2
 * @package hitspage
 *
 */
$ip = $_SERVER["REMOTE_ADDR"];
$client = $_SERVER["HTTP_USER_AGENT"];
$host = "127.0.0.1";
$dbname = "s8169";
$pass = "aBuwEMcam819";
$username = "s8169";
$date = date("Y-m-d H:i:s");

$page =  $modx->getObject(\'modResource\', $modx->resource->get(\'id\'));
$view = 0;

$mysqli = mysqli_connect($host, $username, $pass, $dbname) or die ("Ошибка: " . mysqli_connect_error());
$pageId = $page->get(\'id\');
$result = $mysqli->query("SELECT * FROM Visitors WHERE ip=\'$ip\' AND client=\'$client\' AND page_id=\'$pageId\'") or die ("Ошибка: " . mysqli_error($mysqli));

// Check the option to record in TV
if($saveTv == \'true\' && $result->{"num_rows"} == 0) {
    
    $mysqli = mysqli_connect($host, $username, $pass, $dbname) or die ("Ошибка: " . mysqli_connect_error());
    $mysqli->query("INSERT INTO Visitors (ip, client, page_id, date) VALUES (\'$ip\',\'$client\', \'$pageId\', \'$date\')") or die ("Ошибка записи: " . mysqli_error($mysqli));
    mysqli_close($mysqli);
    
    // get the required TV object by name (or id)
    $tv = $modx->getObject(\'modTemplateVar\',array(\'name\'=>\'HitsPage\'));
    if($tv) {
        $tvs = $modx->getObject(\'modTemplateVarResource\',array(\'tmplvarid\'=>$tv->id, \'contentid\'=>$page->get(\'id\')));
        if($tvs) {
            $viewTv = $tvs->get(\'value\');
            $tvs->set(\'value\',intval($viewTv) + 1);
            if($tvs->save()) $view = $viewTv;
        } else {
            $tvn = $modx->newObject(\'modTemplateVarResource\');
            $tvn->set(\'tmplvarid\',$tv->id);
            $tvn->set(\'contentid\',$page->get(\'id\'));
            $tvn->set(\'value\',1);
            if($tvn->save()) $view = 1;
        }       
    } 
} else {
    $view = $page->getProperty(\'hitts\',\'hitspage\',$view);
}
if($result->{"num_rows"} == 0){
    $page->setProperty(\'hitts\',intval($view) + 1,\'hitspage\');
    $page->save();
}
return $view;',
          'locked' => false,
          'properties' => 
          array (
            'saveTv' => 
            array (
              'name' => 'saveTv',
              'desc' => 'If you want to duplicate the number of views in the TV, then select - "true"',
              'type' => 'list',
              'options' => 
              array (
                0 => 
                array (
                  'text' => 'true',
                  'value' => 'true',
                  'name' => 'true',
                ),
                1 => 
                array (
                  'text' => 'false',
                  'value' => 'false',
                  'name' => 'false',
                ),
              ),
              'value' => 'false',
              'lexicon' => NULL,
              'area' => '',
              'desc_trans' => 'If you want to duplicate the number of views in the TV, then select - "true"',
              'area_trans' => '',
            ),
          ),
          'moduleguid' => '',
          'static' => true,
          'static_file' => 'core/components/hitspage/elements/snippet/hitspage.snippet.php',
          'content' => '/**
 * This file is extra HitsPage Pageviews for MODX Revolution.
 *
 * @copyright Copyright (C) 2013, Artdevue Ltd, <info@artdevue.com>
 * @author Valentin Rasulov <info@artdevue.com>
 * @license http://opensource.org/licenses/gpl-2.0.php GNU Public License v2
 * @package hitspage
 *
 */
$ip = $_SERVER["REMOTE_ADDR"];
$client = $_SERVER["HTTP_USER_AGENT"];
$host = "127.0.0.1";
$dbname = "s8169";
$pass = "aBuwEMcam819";
$username = "s8169";
$date = date("Y-m-d H:i:s");

$page =  $modx->getObject(\'modResource\', $modx->resource->get(\'id\'));
$view = 0;

$mysqli = mysqli_connect($host, $username, $pass, $dbname) or die ("Ошибка: " . mysqli_connect_error());
$pageId = $page->get(\'id\');
$result = $mysqli->query("SELECT * FROM Visitors WHERE ip=\'$ip\' AND client=\'$client\' AND page_id=\'$pageId\'") or die ("Ошибка: " . mysqli_error($mysqli));

// Check the option to record in TV
if($saveTv == \'true\' && $result->{"num_rows"} == 0) {
    
    $mysqli = mysqli_connect($host, $username, $pass, $dbname) or die ("Ошибка: " . mysqli_connect_error());
    $mysqli->query("INSERT INTO Visitors (ip, client, page_id, date) VALUES (\'$ip\',\'$client\', \'$pageId\', \'$date\')") or die ("Ошибка записи: " . mysqli_error($mysqli));
    mysqli_close($mysqli);
    
    // get the required TV object by name (or id)
    $tv = $modx->getObject(\'modTemplateVar\',array(\'name\'=>\'HitsPage\'));
    if($tv) {
        $tvs = $modx->getObject(\'modTemplateVarResource\',array(\'tmplvarid\'=>$tv->id, \'contentid\'=>$page->get(\'id\')));
        if($tvs) {
            $viewTv = $tvs->get(\'value\');
            $tvs->set(\'value\',intval($viewTv) + 1);
            if($tvs->save()) $view = $viewTv;
        } else {
            $tvn = $modx->newObject(\'modTemplateVarResource\');
            $tvn->set(\'tmplvarid\',$tv->id);
            $tvn->set(\'contentid\',$page->get(\'id\'));
            $tvn->set(\'value\',1);
            if($tvn->save()) $view = 1;
        }       
    } 
} else {
    $view = $page->getProperty(\'hitts\',\'hitspage\',$view);
}
if($result->{"num_rows"} == 0){
    $page->setProperty(\'hitts\',intval($view) + 1,\'hitspage\');
    $page->save();
}
return $view;',
        ),
        'policies' => 
        array (
        ),
        'source' => 
        array (
          'id' => 1,
          'name' => 'Filesystem',
          'description' => '',
          'class_key' => 'sources.modFileMediaSource',
          'properties' => 
          array (
          ),
          'is_stream' => true,
        ),
      ),
    ),
    'modTemplateVar' => 
    array (
    ),
  ),
);